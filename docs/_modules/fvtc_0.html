<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fvtc_0 &mdash; SQA_automation 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="SQA_automation 1.0 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">SQA_automation 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for fvtc_0</h1><div class="highlight"><pre>
<span class="c">#!/opt/python3/bin/python3</span>

<span class="c">###############################################################################</span>
<span class="c">#### Home location is</span>
<span class="c">####</span>
<span class="c">###############################################################################</span>

<span class="kn">import</span> <span class="nn">anturlar</span>
<span class="kn">import</span> <span class="nn">liabhar</span>
<span class="kn">import</span> <span class="nn">cofra</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">maps_tools</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Naming conventions --</span>

<span class="sd">module_name                     package_name            </span>
<span class="sd">method_name                     ExceptionName           </span>
<span class="sd">global_var_name                 instance_var_name</span>
<span class="sd">function_parameter_name         local_var_name</span>
<span class="sd">GLOBAL_CONSTANT_NAME            ClassName</span>
<span class="sd">                                function_name</span>
<span class="sd">                                </span>
<span class="sd">&quot;&quot;&quot;</span>

<div class="viewcode-block" id="tc_01_01_01_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_01_01">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_01_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test Case   25.01.01.01.02</span>
<span class="sd">    Title:      MAPS switch View via Web Tools</span>
<span class="sd">    Feature     MAPS availability in Web Tools</span>
<span class="sd">    Confirm MAPS switch view is available when a license is not installed</span>
<span class="sd">    </span>
<span class="sd">    Note: currently not automated</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;at this time there this test case is not automated&quot;</span><span class="p">)</span>
    
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_01_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_01_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_01_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test Case   25.01.01.01.02</span>
<span class="sd">    Title:      MAPS commands available with a license</span>
<span class="sd">    Feature:    MAPS CLI</span>
<span class="sd">    Confirm MAPS CLI function correctly with and without a license installed</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####</span>
    <span class="c">####   2.  man page output</span>
    <span class="c">####   3.  confirm the correct commands return the right data</span>
    <span class="c">####   4.  if a license requires to answer a question about removal</span>
    <span class="c">####            (encryption)</span>
    <span class="c">####</span>
    <span class="c">####   Complete</span>
    <span class="c">####   A.  pass / fail for each step of test case</span>
    <span class="c">####       make the test_result a list of list [ step_0 pass ][step_2 fail]</span>
    <span class="c">####   B. log file of the commands and response</span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####</span>
    <span class="c">#### 1. confirm license is not installed</span>
    <span class="c">####    a. this can be flow vision, APM or FW license</span>
    <span class="c">####    b. if license is installed remove license</span>
    <span class="c">#### 2. send each MAPS command</span>
    <span class="c">#### 3. confirm the message for each command</span>
    <span class="c">#### 4. add all license back</span>
    <span class="c">####    a. dont need to confirm Flow Vision license since the</span>
    <span class="c">####        test will fail if it is not one of the license</span>
    <span class="c">#### 5. send each MAPS command</span>
    <span class="c">#### 6. confirm the message for each command</span>
    <span class="c">####</span>
    <span class="c">#### 7. confirm help message for each command</span>
    <span class="c">#### 8. confirm man page is available for each command</span>
    <span class="c">####    a. confirm first page of man page - the rest is visual</span>
    <span class="c">####</span>
    <span class="c">####  mapsConfig 	 mapsPolicy  	mapsconfig  	mapshelp</span>
    <span class="c">####  mapsrule 	 mapsHelp   	 mapsRule    	mapsdb      </span>
    <span class="c">####  mapspolicy  	mapssam 	relayconfig *	logicalgroup *</span>
    <span class="c">####  * commands will not have a MAPS message since they are used</span>
    <span class="c">####     in other features</span>
    <span class="c">#### LPMDE3mKQQrtTYYrKAWEPfFGgZfm7X3JBAXFM</span>
    <span class="c">####   beRybSSdefSzc8     beRybSSdgfSzcA</span>
    <span class="c">#### start the test</span>
    <span class="c">#header = &quot;**************************************************************************&quot;</span>
    <span class="n">test_numb</span> <span class="o">=</span> <span class="s">&quot;25.01.01.01.02&quot;</span>
    <span class="n">test_summary</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">       MAPS commands available with a license&quot;</span> <span class="o">%</span> <span class="n">test_numb</span>
    <span class="n">header</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">format_header</span><span class="p">(</span><span class="n">test_summary</span><span class="p">)</span>
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    
    <span class="n">p</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">sut_ip</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    <span class="n">cmds_list</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">()</span>
    <span class="n">cmds_list_w_usage</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;usage&quot;</span><span class="p">)</span>
    <span class="n">cmds_list_w_correct</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;all&quot;</span><span class="p">)</span>
    <span class="c">#### set up the log file info</span>
    <span class="n">f_path</span> <span class="o">=</span> <span class="s">&#39;/home/run_from_here/logs/</span><span class="si">%s</span><span class="s">_</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">test_numb</span><span class="p">,</span> <span class="n">sut_ip</span> <span class="p">)</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f_path</span><span class="p">,</span> <span class="s">&#39;w+b&#39;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    
    <span class="c">#### get the list of license and remove them from the switch</span>
    <span class="n">l_list</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getLicense</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;license list </span><span class="se">\n\n</span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span> <span class="n">l_list</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;license list </span><span class="se">\n\n</span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span> <span class="n">l_list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">license</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;licenseremove </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">license</span><span class="p">)</span>
    <span class="c">#### no need to confirm the Flow Vision license</span>
    <span class="c">####  just remove all the license and test</span>
    <span class="c">####   if no license for flow vision the test case will fail</span>
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">console_out</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;license not present&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            
    <span class="k">for</span> <span class="n">license</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;licenseadd </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">license</span><span class="p">)</span>
        
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list_w_usage</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">console_out</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;Usage:&quot;</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="s">&quot;MAPS not active.&quot;</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step2&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list_w_correct</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">console_out</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;root&gt;&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step3&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>       
    
    
    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.01.02 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="n">tc_result</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">format_results</span><span class="p">(</span><span class="n">test_summary</span><span class="p">,</span> <span class="n">test_result</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">maps_tools</span><span class="o">.</span><span class="n">format_results</span><span class="p">(</span><span class="n">test_summary</span><span class="p">,</span> <span class="n">test_result</span><span class="p">))</span>
    
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tc_01_01_03_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_03_01">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_03_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test Case   25.01.01.03.01</span>
<span class="sd">    Title:      MAPS Category Management Default thresholds</span>
<span class="sd">    Feature:    MAPS </span>
<span class="sd">    Confirm MAPS default thresholds are set correctly</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####</span>
    <span class="c">####   1.  pass / fail for each step of test case</span>
    <span class="c">####       make the test_result a list of list [ step_0 pass ][step_2 fail]</span>
    <span class="c">####   2.  ignore chassis rules on a pizza box    </span>
    <span class="c">####   3.  if bottleneckmonitor is enable FPI monitor will fail the command</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  steps</span>
    <span class="c">####</span>
    <span class="c">####  1. get a list of the rules from a switch</span>
    <span class="c">####  2. get the list of rules from 7.3.0  --  maps_default_rule()</span>
    <span class="c">####  3. compare the list</span>
    <span class="c">####  4. return any diffence as a failure</span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">#### start the test</span>
    <span class="n">test_numb</span> <span class="o">=</span> <span class="s">&quot;25.01.01.03.01&quot;</span>
    <span class="n">test_summary</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">    MAPS Catergory Management Default thresholds&quot;</span> <span class="o">%</span> <span class="n">test_numb</span>
    <span class="n">header</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">format_header</span><span class="p">(</span><span class="n">test_summary</span><span class="p">)</span>
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    
    <span class="n">p</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">sut_ip</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    <span class="n">sw_rules</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_rules</span><span class="p">()</span>
    
     <span class="c">#### set up the log file info</span>
    <span class="n">f_path</span> <span class="o">=</span> <span class="s">&#39;/home/run_from_here/logs/</span><span class="si">%s</span><span class="s">_</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">test_numb</span><span class="p">,</span> <span class="n">sut_ip</span><span class="p">)</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f_path</span><span class="p">,</span> <span class="s">&#39;w+b&#39;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    
    <span class="c">#sw_rules = str(sw_rules)</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;&#39;&quot;, &quot;&quot;) #### remove &#39; from string</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;[&quot;, &quot;&quot;) #### remove open bracket</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;]&quot;, &quot;&quot;) #### remove ending bracket</span>
    <span class="n">df_rules</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">maps_default_rule</span><span class="p">()</span>
    
    <span class="n">sw_rules</span> <span class="o">=</span> <span class="n">sw_rules</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">df_rules</span> <span class="o">=</span> <span class="n">df_rules</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="n">count_df</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_rules</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sw_rules</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">count_df</span><span class="p">:</span>
        <span class="n">loop_count</span> <span class="o">=</span> <span class="n">count</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">loop_count</span> <span class="o">=</span> <span class="n">count_df</span>
    <span class="n">i</span> <span class="o">=</span><span class="mi">0</span>
    <span class="n">rule_differ</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">loop_count</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">comparing switch rule with default rule &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">      </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sw_rules</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span> <span class="p">))</span>
        <span class="k">if</span> <span class="n">sw_rules</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_rules</span><span class="p">:</span>
            <span class="n">rule_differ</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">sw_rules</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;The number of rules that differ are </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">rule_differ</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;The number of additional rules on the switch </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">count</span> <span class="o">-</span> <span class="n">count_df</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sw_rules</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_rules</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;The number of rules that differ are </span><span class="si">%s</span><span class="s"> </span><span class="se">\r\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">rule_differ</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;The number of additional rules on the switch </span><span class="si">%s</span><span class="s"> </span><span class="se">\r\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">count</span> <span class="o">-</span> <span class="n">count_df</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Total number of switch rules    </span><span class="si">%s</span><span class="s">  </span><span class="se">\r\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">sw_rules</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Total number of default rules   </span><span class="si">%s</span><span class="s">  </span><span class="se">\r\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_rules</span><span class="p">))</span>


    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.03.01 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">maps_tools</span><span class="o">.</span><span class="n">format_results</span><span class="p">(</span><span class="n">test_summary</span><span class="p">,</span> <span class="n">test_result</span><span class="p">))</span>
       
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tc_01_01_03_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_03_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_03_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.03.02</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Predfined Group Management</span>
<span class="sd">        Verify the predefined groups including only the elements</span>
<span class="sd">        defined for each group </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    0.   pizza box</span>
    <span class="c">####    1.   E-Port </span>
    <span class="c">####    2.   QSFP</span>
    <span class="c">####    3.   check all other category in the group</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####</span>
    <span class="c">#### 1. get each port type</span>
    <span class="c">####    a. all ports        d. E_ports ?     f. other_f_ports       </span>
    <span class="c">####    b. non_e_f_ports    e. F_ports      g. D_ports</span>
    <span class="c">####    c. Target_ports     f. Host_ports ?? portFlag ??</span>
    <span class="c">####</span>
    <span class="c">#### 2. get each TS / FAN / PS / WWN</span>
    <span class="c">####    a. TS  - tempshow count the state of OK</span>
    <span class="c">####    b. FAN - fanshow count the Fan</span>
    <span class="c">####    c. PS  - psshow count the Power Supply #</span>
    <span class="c">####    d. WWN - ??</span>
    <span class="c">####</span>
    <span class="c">#### 3. get each SFP type</span>
    <span class="c">####    a. sfpshow - count the id (sw) and Speed that are 16 / 10</span>
    <span class="c">####                 and not 16 / 10</span>
    <span class="c">####    b. Qsfp - count ??  maybe serial number ?</span>
    <span class="c">####</span>
    <span class="c">#### 4. get each Blade type</span>
    <span class="c">####    a. slotshow - count the slots and blades</span>
    <span class="c">####</span>
    <span class="c">#### 5. Compare to logicalgroup --show output</span>
    <span class="c">####</span>
    <span class="c">#### 6. repeat for each FID</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### start the test</span>
    <span class="c">####</span>
    <span class="c">#### get the info from the switch</span>
    <span class="c">####  Step 1</span>
    <span class="c">####</span>
    <span class="n">pgm</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">sut_ip</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    <span class="n">port_list</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">all_ports</span><span class="p">()</span>
    <span class="n">port_list_no_ve</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">all_ports_fc_only</span><span class="p">()</span>
    <span class="n">e_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="n">f_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">f_ports</span><span class="p">()</span>
    <span class="n">sim_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sim_ports</span><span class="p">()</span>
    <span class="n">d_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">d_ports</span><span class="p">()</span>
    <span class="c">#other_f_ports = pgm.f_ports_other()</span>
    <span class="c">#non_ef_port = pgm.ports - e_ports - f_ports</span>
    <span class="c">#host_ports = pgm.host_ports()</span>
    <span class="c">#target_ports = pgm.target_ports()</span>
    <span class="n">fans_count</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">fan_count</span><span class="p">()</span>
    <span class="n">blade_count</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">blades</span><span class="p">()</span>
    <span class="n">temp_sensor</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">temp_sensors</span><span class="p">()</span>
    <span class="n">temp_sensor_absent</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">temp_sensors</span><span class="p">(</span><span class="s">&quot;absent&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_f</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;f&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_t</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;t&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_ps</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;ps&quot;</span><span class="p">)</span>
    <span class="n">sfp_list</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sfp_info</span><span class="p">()</span>
    <span class="n">sfp_summary</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sfp_info</span><span class="p">(</span><span class="s">&quot;summary&quot;</span><span class="p">)</span>
    <span class="n">total_f_ports</span> <span class="o">=</span> <span class="n">f_ports</span> <span class="o">+</span> <span class="n">sim_ports</span>
    
    
    
    
    <span class="c">###########################################################################</span>
    <span class="c">#### get the data from the switch</span>
    <span class="c">####</span>
    <span class="c">####    </span>
    <span class="c">####   ALL_F_PORTS         ALL_OTHER_F_PORTS       ALL_HOST_PORTS    </span>
    <span class="c">####   ALL_TARGET_PORTS    ALL_TS                  ALL_FAN        </span>
    <span class="c">####   ALL_PS              ALL_WWN                 ALL_SFP        </span>
    <span class="c">####   ALL_10GSWL_SFP *     ALL_10GLWL_SFP *        ALL_16GSWL_SFP * </span>
    <span class="c">####   ALL_16GLWL_SFP  *    ALL_QSFP                ALL_OTHER_SFP  *</span>
    <span class="c">####   ALL_SLOTS           ALL_SW_BLADES           ALL_CORE_BLADES</span>
    <span class="c">####   ALL_FLASH           ALL_CIRCUITS            SWITCH *     </span>
    <span class="c">####  CHASSIS *            ALL_D_PORTS</span>
    
    <span class="n">t1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">blade_count</span><span class="p">)</span>
    
    
    <span class="n">t_fports</span> <span class="o">=</span> <span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_PORTS&quot;</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL PORTS IS  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">t_fports</span><span class="p">)</span>
    
    <span class="n">t_ofports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_OTHER_F_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_hostports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_HOST_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_targetports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_TARGET_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_ts</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_TS&quot;</span><span class="p">))</span>
    <span class="n">t_fan</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_FAN&quot;</span><span class="p">))</span>
    <span class="n">t_ps</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_PS&quot;</span><span class="p">))</span>
    <span class="n">t_wwn</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_WWN&quot;</span><span class="p">))</span>
    <span class="n">t_sfp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SFP&quot;</span><span class="p">))</span>
    
    <span class="n">t_qsfp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_QSFP&quot;</span><span class="p">))</span>
    <span class="n">t_slots</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SLOTS&quot;</span><span class="p">))</span>
    <span class="n">t_swblade</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SW_BLADES&quot;</span><span class="p">))</span>
    <span class="n">t_coreblade</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_CORE_BLADES&quot;</span><span class="p">))</span>
    <span class="n">t_flash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_FLASH&quot;</span><span class="p">))</span>
    <span class="n">t_circuits</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_CIRCUITS&quot;</span><span class="p">))</span>
    
    <span class="n">t_dports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_D_PORTS&quot;</span><span class="p">))</span>
    
    <span class="n">t_error</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;notinthelist&quot;</span><span class="p">))</span>
    
    <span class="c">###########################################################################</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">INFO FROM the SWITCH ITSELF&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">port list is            : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_list</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;port list no ve is       : </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_list_no_ve</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;F ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">total_f_ports</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;E ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">e_ports</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp sensors is          : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_sensor</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp sensors missing     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_sensor_absent</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;TEMP from sensor cmd     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_t</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;PS from sensor cmd       : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_ps</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;fans      is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fans_count</span><span class="p">))</span>
   
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fan from sensor cmd      : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_f</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SFP summary  less SIM    : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">sfp_summary</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SFP list of speed  -     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">sfp_list</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&quot;blade_count is           : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">blade_count</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;D ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">d_ports</span><span class="p">))</span>
    
    <span class="c">#print(&quot;Need the fan sensor output : %s &quot; % port_list)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;INFO FROM LOGICAL GROUP COMMAND&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">ALL Ports count          :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_fports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL other F port count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ofports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL host port count       :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_hostports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL target port count     :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_targetports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL temp sensors count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ts</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL POWER SUPPLY count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ps</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL FAN count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_fan</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;All WWN count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_wwn</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL SFP count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_sfp</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL QSFP count            :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_qsfp</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL slot count            :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_slots</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL blade count           :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_swblade</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL core blade count      :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_coreblade</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL flash count           :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_flash</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL circuit count         :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_circuits</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL D Port count          :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_dports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    
    
     
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">t1</span> <span class="o">!=</span> <span class="n">t_swblade</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&quot;ALL_SW_BLADES&quot;</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>    
    
    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.03.02 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tc_01_01_05_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_01">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.01</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Environmental Events and alarms</span>
<span class="sd">        Objective:  Verify the Environmental events and alarms in Switch</span>
<span class="sd">                    Resource Category of MAPS</span>
<span class="sd">                    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   DNS configure</span>
    <span class="c">####    2.   SNMP configure   </span>
    <span class="c">####    3.   need to confirm the CPU message is only returned after two</span>
    <span class="c">####         polling cycles </span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. create a policy for the rules that are created in the next step</span>
    <span class="c">####    2. create rules for flash usage, memory usage and CPU usage</span>
    <span class="c">####    3. enable the policy</span>
    <span class="c">####    4. confirm or set the actions in mapsconfig (raslog, email, snmp)</span>
    <span class="c">####    5. confirm DNS is configured and snmp is configured</span>
    <span class="c">####    6. get the current usage of the flash, cpu, memory, temp</span>
    <span class="c">####        - flash  confirm with df /</span>
    <span class="c">####        - cpu confirm with cat /proc/stat look for cpu grab</span>
    <span class="c">####          the idle time for calculation</span>
    <span class="c">####        - memory usage vmstat,  free,  top  cat /proc/meminfo</span>
    <span class="c">####        - tempshow     pgm.sensor_t_f_ps(&quot;t&quot;) </span>
    <span class="c">####    7. confirm RAS log message</span>
    <span class="c">####    8. confirm MAPS entry</span>
    <span class="c">####</span>
    <span class="c">####    9. cleanup switch of the rules and policy</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start the test</span>
    <span class="c">####</span>
    <span class="c">####  mapsrule --create sqa_switch_res_flash_usage_down  -group chassis</span>
    <span class="c">####  -monitor flash_usage -value 50 -action email,raslog,snmp,sw_marginal</span>
    <span class="c">####    -op ge -policy environ_test</span>
    <span class="c">####  mapsrule --create sqa_switch_res_cpu_usage_down -group chassis</span>
    <span class="c">####   -monitor cpu -value 100 -action email,raslog,snmp</span>
    <span class="c">####    -op le -policy policy_test_1</span>
    <span class="c">####</span>
    <span class="c">####  mapspolicy --create environ_test</span>
    <span class="c">####</span>
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">#### create a policy and rules</span>
    <span class="c">####</span>
    <span class="n">flash_rule_name</span> <span class="o">=</span> <span class="s">&quot;sqa_sw_res_flash_usage_down&quot;</span>
    <span class="n">cpu_rule_name</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_res_cpu_usage_down&quot;</span>
    <span class="n">mem_rule_name</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_res_memory_usage&quot;</span>
    <span class="n">temp_rule_out</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_temp_out&quot;</span>
    <span class="n">temp_rule_in</span>    <span class="o">=</span> <span class="s">&quot;sqa_sw_temp_in&quot;</span>
    
    
    <span class="n">cmd_flash</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">flash_rule_name</span> <span class="o">+</span><span class="s">&quot; -group chassis</span><span class="se">\</span>
<span class="s">              -monitor flash_usage -value 30 -action email,raslog,snmp,sw_marginal</span><span class="se">\</span>
<span class="s">              -op ge -policy environ_test&quot;</span> 
    
    <span class="n">cmd_cpu</span><span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">cpu_rule_name</span> <span class="o">+</span><span class="s">&quot; -group chassis </span><span class="se">\</span>
<span class="s">               -monitor cpu -value 100 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">               -op le -policy environ_test&quot;</span>
    
    <span class="n">cmd_mem</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">mem_rule_name</span> <span class="o">+</span><span class="s">&quot;  -group chassis </span><span class="se">\</span>
<span class="s">              -monitor memory_usage -value 100 -action email,raslog,snmp  </span><span class="se">\</span>
<span class="s">              -op le -policy environ_test&quot;</span>
    
    <span class="n">cmd_temp</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">temp_rule_out</span> <span class="o">+</span><span class="s">&quot; -group ALL_ts </span><span class="se">\</span>
<span class="s">               -monitor temp -timebase none -value out_of_range </span><span class="se">\</span>
<span class="s">               -action snmp,raslog,email -op eq -policy environ_test&quot;</span>
    
    <span class="n">cmd_temp_in</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span> <span class="o">+</span> <span class="n">temp_rule_in</span> <span class="o">+</span> <span class="s">&quot; -group ALL_ts </span><span class="se">\</span>
<span class="s">                  -monitor temp -timebase none -value IN_range </span><span class="se">\</span>
<span class="s">                  -action snmp,raslog,email -op eq -policy environ_test&quot;</span> 
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create environ_test&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_flash</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_cpu</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_mem</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_temp</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_temp_in</span><span class="p">)</span>
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable environ_test&quot;</span><span class="p">)</span>
    <span class="c">####</span>
    <span class="c">#### do some steps here</span>
    <span class="c">####</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">waiting for maps actions to be triggered. . .&quot;</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span>
    <span class="c">####  see if there is a ras log message for each rule</span>
    <span class="n">mem_ras_message</span>   <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">mem_rule_name</span><span class="p">)</span>
    <span class="n">flash_ras_message</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">flash_rule_name</span><span class="p">)</span>
    <span class="n">temp_ras_message</span>  <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">temp_rule_in</span><span class="p">)</span>
    <span class="n">cpu_ras_message</span>   <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">cpu_rule_name</span><span class="p">)</span>
    
    <span class="c">####  see if there is a mapsdb entry for each r+= 1ule</span>
    <span class="c">#mem_mapsdb_confirm = en.db_search(mem_rule_name)</span>
    <span class="c">#mem_mapsdb_confirm = mem_mapsdb_confirm.replace(&quot;|&quot;,&quot;&quot;)</span>
    <span class="c">#mem_confirm_final = mem_mapsdb_confirm.split(&quot; &quot;)</span>
    <span class="n">mem_confirm</span>       <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">mem_rule_name</span><span class="p">)</span>
    <span class="n">flash_confirm</span>     <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">flash_rule_name</span><span class="p">)</span>
    <span class="n">cpu_confirm</span>       <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">cpu_rule_name</span><span class="p">)</span>
    <span class="n">temp_confirm</span>      <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">temp_rule_in</span><span class="p">)</span>
    
    <span class="c">#### get the raw data from the switch</span>
    <span class="c">####</span>
    <span class="c">#### example from df command for Flash usage</span>
    <span class="c">####Filesystem           1k-blocks      Used Available Use% Mounted on</span>
    <span class="c">#/dev/root               495016    210188    259276  45% /</span>
    <span class="c">#/dev/hda1               494984    210716    258720  45% /mnt</span>
    <span class="c">####</span>
    <span class="c">####  no calculation needed since the use% is the correct number</span>
    <span class="c">####</span>
    <span class="n">flash_df_command</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;df&quot;</span><span class="p">)</span>
    <span class="n">ras</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;[\d]+(?=%)&#39;</span><span class="p">)</span>
    <span class="n">flash_raw</span> <span class="o">=</span> <span class="n">ras</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">flash_df_command</span><span class="p">)</span>
    <span class="n">flash_usage</span> <span class="o">=</span> <span class="n">flash_raw</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>   
    
    <span class="c">### equation to confirm mem usage</span>
    <span class="c">#### using the command free returns these values</span>
    <span class="c">####          total       used       free     shared    buffers     cached</span>
    <span class="c"># Mem:       1024096     672768     351328          0      40884     379300</span>
    <span class="c"># -/+ buffers/cache:     252584     771512</span>
    <span class="c"># Swap:            0          0          0</span>
    <span class="c">####</span>
    <span class="c">####  use the calculation (total - free - buffers - cached)/ total</span>
    <span class="c">####    ( 1024096 - 351328 - 40884 - 379300 ) / 1024096 = = 25%</span>
    <span class="c">####</span>
    <span class="n">mem_usage</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">mem_usage</span><span class="p">()</span>
    <span class="c">#### equation for cpu usage</span>
    <span class="c">#### cat /proc/stat - in the line containing cpu, the 4th number </span>
    <span class="c">####   is the idle time.  The CPU usage is calculated as</span>
    <span class="c">####  (100-(idle value at T1 - idle value at T2)*100/(sum of all number</span>
    <span class="c">####           at T1 - sum of all numbers at T2))</span>
    <span class="c">####</span>
    <span class="c">####    cat /proc/stat</span>
    <span class="c"># cpu  1296327 9539 459156 22597828 163062 9894 61210 0</span>
    <span class="c"># cpu0 1296327 9539 459156 22597828 163062 9894 61210 0</span>
    <span class="c"># intr 44837986softirq 65577794 148267 24596931 0 38492796 0 2339800</span>
    <span class="c">####</span>
    <span class="n">cpu_calc</span>    <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">cpu_usage</span><span class="p">()</span>
    <span class="n">temp_status</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">temp_status</span><span class="p">()</span>
     
    
    <span class="c">###########################################################################</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  clean up</span>
    <span class="c">####</span>
    <span class="n">policy_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_policies</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">)</span>
    <span class="n">policy_user_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_nondflt_policies</span><span class="p">()</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    
    <span class="n">cleanup_policy</span><span class="p">(</span><span class="n">policy_user_list</span><span class="p">)</span>
    <span class="n">policy_user_list_final</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_policies</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">)</span>
     
     
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Policy list&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">policy_list</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Policy list - User list&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">policy_user_list</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;memory ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;flash  ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cpu    ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp   ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;memory db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;flash  db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cpu    db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp   db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SWITCH VALUES&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated memory usage           :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_usage</span> <span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated flash usage            :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_usage</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated switch CPU             :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_calc</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Temp Sensor info high-low-avg     :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_status</span><span class="p">)</span>
    

    <span class="k">return</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05_02</span>
<span class="sd">        Title:      MAPS Port Health</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify Port Related events / alarms</span>
<span class="sd">            at this time it is configuration for testing only. </span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   finisar API</span>
    <span class="c">####    2.   DNS configure</span>
    <span class="c">####    3.   SNMP configure </span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. Setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="c">####    Link loss                      </span>
    <span class="c">####    Sync loss                      </span>
    <span class="c">####    Signal loss                    Port state change</span>
    <span class="c">####    Invalid Protocol               Link Reset</span>
    <span class="c">####    Invalid Word                   </span>
    <span class="c">####    CRC                            C3TX_TO</span>
    <span class="c">####</span>
    <span class="c">####    2. get the current values - or clear to zero and get them</span>
    <span class="c">####    3. trigger a rule - have the user trigger the rule </span>
    <span class="c">####    4. confirm a ras log message</span>
    <span class="c">####    5. confirm an entry in MPAS</span>
    <span class="c">####    6. clean up the switch</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### rule names and maps commands and maps policy</span>
    <span class="c">####</span>
    
    <span class="n">port_health_policy</span> <span class="o">=</span> <span class="s">&quot;port_health_policy&quot;</span>
    
    <span class="n">link_loss_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_all_ports_LF_N_1&quot;</span>
    <span class="n">sync_loss_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_all_ports_loss_sync_N_1&quot;</span>
    <span class="n">loss_signal_rule</span>       <span class="o">=</span> <span class="s">&quot;sqa_all_ports_loss_sig_N_1&quot;</span>
    <span class="n">port_state_change_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_all_ports_state_change_N_0&quot;</span>
    <span class="n">invalid_proto_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_all_ports_PE_N_1&quot;</span>
    <span class="n">link_reset_rule</span>        <span class="o">=</span> <span class="s">&quot;sqa_all_ports_LR_N_1&quot;</span>
    <span class="n">invalid_word_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_all_ports_ITW_N_1&quot;</span>
    <span class="n">crc_rule</span>               <span class="o">=</span> <span class="s">&quot;sqa_all_ports_CRC_N_1&quot;</span>
    <span class="n">c3to_rule</span>              <span class="o">=</span> <span class="s">&quot;sqa_all_ports_C3_TO_N_1&quot;</span>
    
    <span class="n">link_loss_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_LF_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor LF -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 2 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">sync_loss_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_loss_sync_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor loss_sync -timebase min </span><span class="se">\</span>
<span class="s">                            -value 2 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">loss_signal_cmd</span>       <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_loss_sig_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor loss_signal </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy port_health_policy&quot;</span>
    
    <span class="n">port_state_change_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_state_change_N_0 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor State_CHG -timebase min </span><span class="se">\</span>
<span class="s">                            -value 1 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">invalid_proto_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_PE_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor PE -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 5 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">lr_cmd</span>                <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_LR_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor LR -timebase min </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">invalid_word_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_ITW_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports </span><span class="se">\</span>
<span class="s">                            -monitor itw -timebase hour -value 5 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">crc_cmd</span>               <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_CRC_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports </span><span class="se">\</span>
<span class="s">                            -monitor crc -timebase min -value 6 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g -policy port_health_policy&quot;</span>
    
    <span class="n">c3tx_to_cmd</span>           <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_C3_TO_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor C3TXTO -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 1 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">link_loss_cmd</span><span class="p">,</span> <span class="n">sync_loss_cmd</span><span class="p">,</span> <span class="n">loss_signal_cmd</span><span class="p">,</span>\
                <span class="n">port_state_change_cmd</span><span class="p">,</span>\
                <span class="n">invalid_proto_cmd</span><span class="p">,</span> <span class="n">lr_cmd</span><span class="p">,</span> <span class="n">invalid_word_cmd</span><span class="p">,</span>\
                <span class="n">crc_cmd</span><span class="p">,</span> <span class="n">c3tx_to_cmd</span> <span class="p">]</span>
    
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">port_health_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">port_health_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;porterrshow&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   THIS TEST CASE AUTOMATION IS CONFIGURATION ONLY   ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the db command to poke for one test, </span><span class="se">\</span>
<span class="s">           </span><span class="se">\n</span><span class="s">use the finisar for confirmation&quot;</span><span class="p">)</span>
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_03"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_03">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_03</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.03</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    FCIP </span>
<span class="sd">        Objective:  verify the FCIP traffic events and alarms</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. check if switch is fcip switch</span>
    <span class="c">####    2. confirm circuit and tunnel</span>
    <span class="c">####    3. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    
    




    
    <span class="n">fcip_health_policy</span> <span class="o">=</span> <span class="s">&quot;fcip_health_policy&quot;</span>
    
    
    <span class="n">circuit_change_rule</span>  <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_STATE&quot;</span>
    <span class="n">circuit_util_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_UTIL&quot;</span>
    <span class="n">packet_loss_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_pktloss&quot;</span>
    
    <span class="n">qos_tunnel_rule</span>      <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="n">rtt_rule</span>             <span class="o">=</span> <span class="s">&quot;sqa_fcip_rtt&quot;</span>
    <span class="n">jitter_rule</span>          <span class="o">=</span> <span class="s">&quot;sqa_fcip_jitter&quot;</span>
    
    <span class="n">state_change_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fcip_statechange&quot;</span>
    <span class="n">utilization_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fcip_utilization&quot;</span>
    <span class="n">packets_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_fcip_packet_loss&quot;</span>
    <span class="n">slow_starts</span>          <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    
    <span class="n">circuit_change_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_STATE </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_state </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy fcip_health_policy&quot;</span>
    
    <span class="n">circuit_util_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_UTIL </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_util </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy fcip_health_policy &quot;</span>
    
    <span class="n">packet_loss_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_pktloss </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_pktloss </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy &quot;</span>
    
    <span class="n">qos_tunnel_cmd</span>      <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="c">####  remove -timebase hour for sqa_fcip_rtt and jitter</span>
    <span class="n">rtt_cmd</span>             <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_rtt </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor rtt </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy  &quot;</span>
    
    <span class="n">jitter_cmd</span>          <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_jitter </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor jitter </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy  &quot;</span>
    
    <span class="n">state_change_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_statechange </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor state_chg </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy &quot;</span>
    
    <span class="n">utilization_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_utilization </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor util </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy&quot;</span>
    
    <span class="n">packets_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_packet_loss </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor pktloss </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy&quot;</span>
    
    <span class="n">slow_starts_cmd</span>     <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">circuit_change_cmd</span><span class="p">,</span> <span class="n">circuit_util_cmd</span><span class="p">,</span> <span class="n">packet_loss_cmd</span><span class="p">,</span> \
                 <span class="n">rtt_cmd</span><span class="p">,</span> <span class="n">jitter_cmd</span> <span class="p">]</span>
    
    <span class="c">####</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fcip_health_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fcip_health_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>    
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portshow fciptunnel &quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portshow fcipcircuit &quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   THIS TEST CASE AUTOMATION IS CONFIGURATION ONLY   ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use Anue Systems Network test equipment to Trigger events&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_04"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_04">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_04</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.04</span>
<span class="sd">        Title:      Traffic Performance Events</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify the Traffic performance events and alarms</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. set up the rules and policies for the test</span>
    <span class="c">####    2. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>

    <span class="n">perf_policy</span> <span class="o">=</span> <span class="s">&quot;traffic_performance_policy&quot;</span>
    
    
    <span class="n">sqa_tf_rx_e_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_RX_E&quot;</span>
    <span class="n">sqa_tf_rx_f_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_RX_F&quot;</span>
     
    <span class="n">sqa_tf_tx_e_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_TX_E&quot;</span>
    <span class="n">sqa_tf_tx_f_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_TX_F&quot;</span>
    <span class="n">sqa_tf_util_e_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_trafperf_util_E&quot;</span>
    <span class="n">sqa_tf_util_f_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_trafperf_util_F&quot;</span>
    <span class="n">sqa_tf_rx_none</span>     <span class="o">=</span> <span class="s">&quot;sqa_trafperf_rx_none&quot;</span>
    <span class="n">sqa_tf_tx_none</span>     <span class="o">=</span> <span class="s">&quot;sqa_trafperf_tx_none&quot;</span>
    
    
    
    <span class="n">rx_e_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_E -group ALL_E_ports </span><span class="se">\</span>
<span class="s">                 -monitor RX  -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                 -op g -policy traffic_performance_policy&quot;</span>

    <span class="n">rx_f_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_F -group ALL_F_ports </span><span class="se">\</span>
<span class="s">                 -monitor RX  -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                 -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_e_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_E -group ALL_E_ports</span><span class="se">\</span>
<span class="s">                  -monitor TX -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_f_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_F -group ALL_F_ports</span><span class="se">\</span>
<span class="s">                  -monitor TX -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">util_e_cmd</span>  <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_UTIL_E </span><span class="se">\</span>
<span class="s">                  -group ALL_E_ports</span><span class="se">\</span>
<span class="s">                  -monitor UTIL -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                  -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">util_f_cmd</span>  <span class="o">=</span>  <span class="s">&quot;mapsrule --create sqa_trafperf_port_UTIL_F </span><span class="se">\</span>
<span class="s">                   -group ALL_F_ports</span><span class="se">\</span>
<span class="s">                   -monitor UTIL -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                   -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                   -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">rx_none_cmd</span> <span class="o">=</span>  <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_Non </span><span class="se">\</span>
<span class="s">                   -group NON_E_F_ports -monitor RX  -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                   -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                   -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_none_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_Non </span><span class="se">\</span>
<span class="s">                  -group NON_E_F_ports -monitor TX  -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                  -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                  -policy traffic_performance_policy&quot;</span>
    
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">rx_e_cmd</span><span class="p">,</span> <span class="n">rx_f_cmd</span><span class="p">,</span> <span class="n">tx_e_cmd</span><span class="p">,</span> <span class="n">tx_f_cmd</span><span class="p">,</span> <span class="n">util_e_cmd</span><span class="p">,</span> \
                <span class="n">util_f_cmd</span><span class="p">,</span> <span class="n">rx_none_cmd</span><span class="p">,</span> <span class="n">tx_none_cmd</span> <span class="p">]</span>
    
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">perf_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">perf_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   THIS TEST CASE AUTOMATION IS CONFIGURATION ONLY   ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Run Traffic and Confirm port usage </span><span class="se">\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">################################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_05"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_05">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_05</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.05</span>
<span class="sd">        Title:      Fabric State Change</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify the Fabric State Change events and alarms</span>
<span class="sd">         </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   create each event to trigger the rule</span>
    <span class="c">####    2.   FLOGI</span>
    <span class="c">####    3.   director test</span>
    <span class="c">####    4.   add different time base for the rules( hour and days)</span>
    <span class="c">####    5.   eport down section need to check for switch is enabled -</span>
    <span class="c">####           if no fail that part of the test</span>
    <span class="c">#### </span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. configure the rules and policy for Fabric State Change</span>
    <span class="c">####    2.</span>
    <span class="c">####    3. Create the events that will trigger each rule</span>
    <span class="c">####        - e_port_down    - bounce an eport on the switch</span>
    <span class="c">####        - fabric_rec     - bounce an adjacent switch</span>
    <span class="c">####                           switchdisable ; sleep ; switchenable</span>
    <span class="c">####        - domain_id      - same domain id and principle switch has</span>
    <span class="c">####                           to change another id - must be 2 times</span>
    <span class="c">####                           in less than 1 minute - use local switch</span>
    <span class="c">####              a. get the list of switch id in the fabric - fabricshow</span>
    <span class="c">####              b. disable the switch</span>
    <span class="c">####              c. use configure to change the id to the same as another</span>
    <span class="c">####                 switch in the fabric</span>
    <span class="c">####              d. enable the switch -  the switch ID will change</span>
    <span class="c">####              e. repeat since it must be done 2 times in a minute</span>
    <span class="c">####                 </span>
    <span class="c">####        - fab_segment    - add a switch to the fabric with an</span>
    <span class="c">####                           incorrect fid from the SUT</span>
    <span class="c">####        - zone_change    - change to a zone and save the zone</span>
    <span class="c">####                           note that the rule is set to trigger hour</span>
    <span class="c">####                           since the rule is 3 zone changes per day</span>
    <span class="c">####        - fabric_login   - FLOGI  </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>

    <span class="n">fabric_state_policy</span> <span class="o">=</span> <span class="s">&quot;fabric_state_policy&quot;</span>
    
    <span class="n">e_p_down_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_fabric_state_EPORT_Down&quot;</span>
    <span class="n">fab_recon_rule</span>        <span class="o">=</span> <span class="s">&quot;sqa_fabric_Fab_config&quot;</span>
    <span class="n">domian_change_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fabric_Domain_change&quot;</span>
    <span class="n">fab_segment_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_fabric_segment&quot;</span>
    <span class="n">zone_change_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_fabric_zone_chg&quot;</span>
    <span class="n">fabric_login_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fabric_FLOGI&quot;</span>
    
    <span class="n">e_port_down_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_state_EPORT_Down </span><span class="se">\</span>
<span class="s">                           -group switch -monitor eport_down -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_reconfig_cmd</span>  <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_Fab_config  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor FAB_CFG -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">domain_id_change_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_Domain_change  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor DID_CHG -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_segment_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_segment  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor fab_seg -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">zone_change_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_zone_chg  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor zone_chg -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_login_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_FLOGI  -group switch </span><span class="se">\</span>
<span class="s">                           -monitor FLOGI -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                           -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>

    <span class="c">###########################################################################</span>
    <span class="c">####  list of commands</span>
    <span class="c">###########################################################################</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">e_port_down_cmd</span><span class="p">,</span> <span class="n">fabric_reconfig_cmd</span><span class="p">,</span> <span class="n">domain_id_change_cmd</span><span class="p">,</span>\
                <span class="n">fabric_segment_cmd</span><span class="p">,</span> <span class="n">zone_change_cmd</span><span class="p">,</span> <span class="n">fabric_login_cmd</span><span class="p">]</span>
    
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">###########################################################################</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fabric_state_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fabric_state_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">####  E-Port down event</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="n">eports</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">MY E-PORTS  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">eports</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">eports</span> <span class="o">==</span> <span class="p">[]:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;No E-Ports found&quot;</span><span class="p">)</span>
        <span class="c">####  check if switch is enabled or fail this part of the test ?</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchenable&quot;</span><span class="p">)</span>
        <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchshow&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the first port found for now </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">eports</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### for pizza box</span>
    <span class="c">####</span>
    
        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 3&quot;</span><span class="p">)</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 3&quot;</span><span class="p">)</span>
                
    <span class="c">############################################################################</span>
    <span class="c">#### fabric config event</span>
    <span class="c">####  disable all the ports on the target switch</span>
    <span class="c">####  when the ports are enabled the fabric will reconfigure</span>
    <span class="c">############################################################################</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 60&quot;</span><span class="p">)</span>
    
    
    
    <span class="c">############################################################################</span>
    <span class="c">####  DID conflict</span>
    <span class="c">####</span>
    <span class="c">############################################################################</span>

    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
    <span class="n">myzone_info</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">zone_info</span><span class="p">()</span>
    <span class="n">myzone</span> <span class="o">=</span> <span class="n">myzone_info</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">my_swid</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">switch_id</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fabric members and my switch ID&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">fabmems</span><span class="p">,</span>  <span class="n">my_swid</span> <span class="p">)</span>
    
    <span class="c">####  change the switch ID to one on the list in fabmems</span>
    <span class="k">if</span> <span class="n">my_swid</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">fabmems</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">new_swid</span> <span class="o">=</span> <span class="n">fabmems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_swid</span> <span class="o">=</span> <span class="n">fabmems</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c">#usrn = &quot;[\r\n]+[:_\w]+(root&gt;)&quot;</span>
    <span class="c">#usrn = usrn.encode()</span>
    <span class="n">ctrl_c</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\x03</span><span class="s">&quot;</span>  <span class="c">### ctrl-c  </span>
    <span class="n">ctrl_d</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\x04</span><span class="s">&quot;</span>  <span class="c">### ctrl-d </span>
    <span class="n">reg_ex_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">b</span><span class="s">&quot;(no])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(\d+])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(on])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;root&gt;&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;affected&quot;</span><span class="p">]</span>
    <span class="n">reg_ex_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">b</span><span class="s">&quot;(no])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(\d+])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(on])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(off])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;:root&gt; &quot;</span> <span class="p">]</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchdisable&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;configure&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="n">new_swid</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="k">while</span> <span class="s">&#39;root&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmdrtn</span><span class="p">:</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
     
    
    <span class="c">#cmdrtn = anturlar.fos_cmd_regex(&#39;\x04&#39;, reg_ex_list,9) ### send ctrl-c  \003 or ctrl-d \004</span>
    <span class="c">#### sending the ctrl-d command i believe is seen as EOF and does not continue</span>
    <span class="c">#### with the fos_cmd_regex command</span>
     
  
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;version&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchenable&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 30&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchshow&quot;</span><span class="p">)</span>
    <span class="c">############################################################################</span>
    <span class="c">#### fabric_segment</span>
    <span class="c">####   attach a switch to the fabric that has a different FID</span>
    <span class="c">####   - find the fabric member and confirm one is attached to the switch</span>
    <span class="c">####   - confirm there are at least 2 fid on the attached switch</span>
    <span class="c">####   - move one of the eports to another fid</span>
    <span class="c">####   - enable the port</span>
    <span class="c">####   - move the port back to original fid</span>
    <span class="c">############################################################################</span>
    <span class="c">#moveport = eports[0][0]</span>
    <span class="n">moveport</span> <span class="o">=</span> <span class="n">eports</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">ls_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
    <span class="n">fid_to_move_port</span> <span class="o">=</span> <span class="mi">88</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">()</span>
    
    <span class="c">#reg_ex_list    = [ b&quot;.+no]&quot;, b&quot;.+\d+]&quot;, b&quot;.+n]?:&quot;, b&quot;usrn&quot; ]</span>
    
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;lscfg --config </span><span class="si">%s</span><span class="s"> -port </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">fid_to_move_port</span><span class="p">,</span> <span class="n">moveport</span><span class="p">)</span> <span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fid_to_move_port</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">moveport</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;lscfg --config </span><span class="si">%s</span><span class="s"> -port </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">fid_now</span><span class="p">,</span> <span class="n">moveport</span><span class="p">),</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fid_now</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">moveport</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    
    <span class="c">############################################################################</span>
    <span class="c">#### add and remove a zone</span>
    <span class="c">############################################################################</span>
    <span class="n">z</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&#39;zonecreate test_maps, &quot;124,52;86,31&quot;&#39;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgadd </span><span class="si">%s</span><span class="s">, test_maps&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo yes | cfgenable </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgshow&quot;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 60&quot;</span><span class="p">)</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgremove </span><span class="si">%s</span><span class="s">, test_maps&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;zonedelete test_maps&quot;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo &#39;yes&#39; | cfgenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fabric members&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">fabmems</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;zonestuff&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">myzone</span><span class="p">)</span>
    
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 600&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   CONFIRM the MAPS OUTPUT in section 3.2   ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***                                            ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   Domain Change                            ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   Fabric config                            ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   Zone Change                              ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   State Change                             ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   FLOGI                                    ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n</span><span class="s">&quot;</span><span class="p">)</span> 
        
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################   </span>
</div>
<div class="viewcode-block" id="tc_01_01_05_06"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_06">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_06</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.06</span>
<span class="sd">        Title:      Security Events</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify the Security Violations events and alarms</span>
<span class="sd">         </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  todo</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  Steps</span>
    <span class="c">####   1. add security rules</span>
    <span class="c">####   2. trigger rules</span>
    <span class="c">####   3. confirm the rules show in MAPS</span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
        
     
    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
        
    <span class="c">###########################################################################</span>
    <span class="c">#### create security rules and policy</span>
    <span class="c">####</span>
    <span class="n">security_policy</span>      <span class="o">=</span> <span class="s">&quot;security_policy&quot;</span>
    <span class="n">cleanup_policy</span><span class="p">(</span><span class="n">security_policy</span><span class="p">)</span>

    <span class="n">telnet_violation</span>     <span class="o">=</span> <span class="s">&quot;sqa_telnet_violation&quot;</span>
    <span class="n">http_violation</span>       <span class="o">=</span> <span class="s">&quot;sqa_http_violaltion&quot;</span>
    <span class="n">scc_violation</span>        <span class="o">=</span> <span class="s">&quot;sqa_scc_violation&quot;</span>
    <span class="n">dcc_violation</span>        <span class="o">=</span> <span class="s">&quot;sqa_dcc_violation&quot;</span>
    <span class="n">login_violation</span>      <span class="o">=</span> <span class="s">&quot;sqa_login_violation&quot;</span>
    <span class="n">invalid_cert</span>         <span class="o">=</span> <span class="s">&quot;sqa_invalid_cert&quot;</span>
    <span class="n">ts_out_of_sync</span>       <span class="o">=</span> <span class="s">&quot;sqa_ts_out_of_sync&quot;</span>
    <span class="n">auth_failure</span>         <span class="o">=</span> <span class="s">&quot;sqa_auth_failure&quot;</span>
    <span class="n">no_fcs_failure</span>       <span class="o">=</span> <span class="s">&quot;sqa_no_fcs_failure&quot;</span>
    <span class="n">incompat_security_db</span> <span class="o">=</span> <span class="s">&quot;sqa_incompat_security_db&quot;</span>
    <span class="n">illegal_command</span>      <span class="o">=</span> <span class="s">&quot;sqa_illegal_cmd&quot;</span>
    
    <span class="n">telnet_violation_cmd</span>  <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_telnet_violation </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_telnet </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">http_violation_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_http_violation </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_http </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">scc_violation_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_scc_violation </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_SCC </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">dcc_violation_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_dcc_violation </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_DCC </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                                
    <span class="n">login_violation_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_login_violation </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_LV </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">invalid_cert_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_invalid_cert </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_CERT </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">ts_out_of_sync_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_ts_out_of_sync </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_TS </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
         
    <span class="n">auth_failure_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_auth_failure_cmd </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_auth_fail </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>    
                             
    <span class="n">no_fcs_failure_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_no_fcs_failure </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_FCS </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">incompat_security_db_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_incompat_security_db </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_IDB </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                             
    <span class="n">illegal_command_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_illegal_cmd </span><span class="se">\</span>
<span class="s">                            -group SWITCH -monitor sec_CMD </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy security_policy&quot;</span>
                                 
            
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">telnet_violation_cmd</span><span class="p">,</span> <span class="n">http_violation_cmd</span><span class="p">,</span> <span class="n">scc_violation_cmd</span><span class="p">,</span>\
                 <span class="n">dcc_violation_cmd</span><span class="p">,</span> <span class="n">login_violation_cmd</span><span class="p">,</span> <span class="n">invalid_cert_cmd</span><span class="p">,</span> \
                 <span class="n">ts_out_of_sync_cmd</span><span class="p">,</span> <span class="n">auth_failure_cmd</span><span class="p">,</span> <span class="n">no_fcs_failure_cmd</span><span class="p">,</span> \
                 <span class="n">incompat_security_db_cmd</span><span class="p">,</span> <span class="n">illegal_command_cmd</span> <span class="p">]</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">security_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">security_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>    
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    
    
    
    
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show &quot;</span><span class="p">)</span>
        
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_07"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_07">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_07</span><span class="p">():</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.07</span>
<span class="sd">        Title:      MAPS SAM EVENTS</span>
<span class="sd">        Feature:    MAPS </span>
<span class="sd">        Objective:  Verify the MAPS SAM output</span>
<span class="sd">         </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  todo</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  Steps</span>
    <span class="c">####   1. MAPSSAM</span>
    <span class="c">####   2. </span>
    <span class="c">####   3. </span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    
    <span class="c">#### cpu usage  and mem usage</span>
    <span class="c">####   see test case 2.1.1.5.1 maps switch resource category</span>
    <span class="c">####   for how this was calculated</span>
    <span class="n">cpu_calc</span>    <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">cpu_usage</span><span class="p">()</span>
    
    <span class="n">flash_df_command</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;df&quot;</span><span class="p">)</span>
    <span class="n">ras</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;[\d]+(?=%)&#39;</span><span class="p">)</span>
    <span class="n">flash_raw</span> <span class="o">=</span> <span class="n">ras</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">flash_df_command</span><span class="p">)</span>
    <span class="n">flash_usage</span> <span class="o">=</span> <span class="n">flash_raw</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>   

    <span class="n">mem_usage</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">mem_usage</span><span class="p">()</span>
    
    <span class="n">liabhar</span><span class="o">.</span><span class="n">cls</span><span class="p">()</span>
    
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapssam --show&quot;</span><span class="p">)</span>
    
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapssam --show cpu&quot;</span><span class="p">)</span>
    
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapssam --show memory&quot;</span><span class="p">)</span>
    
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapssam --show flash&quot;</span><span class="p">)</span>
    
    <span class="c">#capture_cmd = anturlar.fos_cmd(&quot;mapssam --clear&quot;)</span>
    
    
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   THIS TEST CASE AUTOMATION                       ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   Confirm CPU usage   MEM usage  and FLASH usage  ***&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;***   match the output in mapssam command             ***</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;CPU calculated   :   </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_calc</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;FLASH calculated :   </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_usage</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;MEM calculated   :   </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_usage</span><span class="p">)</span>
          
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
   </div>
<div class="viewcode-block" id="tc_01_01_06_07"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_06_07">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_06_07</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.06_07</span>
<span class="sd">        Title:      MAPS Data Base Management</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####    2.  add the slot numbers - right now it is the default 0</span>
    <span class="c">###</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1.</span>
    <span class="c">####    2.  add error counts to each rule in the historical data section</span>
    <span class="c">####    3.  </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    <span class="c">#fabmems = anturlar.fabric_members()</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable dflt_aggressive_policy&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show all&quot;</span><span class="p">)</span>
    <span class="c">#### </span>
    <span class="c">#### add the slot numbers here</span>
    <span class="n">slot_numb</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="n">bld_map</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">bladeportmap_Info</span><span class="p">(</span><span class="n">slot_numb</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n</span><span class="s">BLADEPORTMAP INFO </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    
    <span class="c">#### create a list of only in_sync ports</span>
    <span class="c">#count_in_synce = 0</span>
    <span class="n">in_sync_ports</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">bld_map</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">&quot;In_Sync&quot;</span> <span class="ow">in</span> <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">12</span><span class="p">]):</span>
            
            <span class="n">in_sync_ports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    
    
    <span class="c">###########################################################################</span>
    <span class="c">###########################################################################</span>
    <span class="n">cont</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">while</span> <span class="n">cont</span> <span class="o">&lt;=</span> <span class="mi">100000</span><span class="p">:</span>
        <span class="n">cont</span> <span class="o">+=</span><span class="mi">1</span>
        
        <span class="c">####  pick a port randomly </span>
        <span class="n">port_to_add_err</span> <span class="o">=</span> <span class="p">((</span><span class="n">liabhar</span><span class="o">.</span><span class="n">random_number_int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">in_sync_ports</span><span class="p">)))))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">PORT NUMBER TO ADD  </span><span class="si">%s</span><span class="s">  </span><span class="se">\n\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">port_to_add_err</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;THE LENGTH OF the PORT LIST  </span><span class="si">%s</span><span class="s">   </span><span class="se">\n\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">in_sync_ports</span><span class="p">))</span>
        <span class="c">#### pick and err type randomly</span>
        <span class="n">multiplier</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="c">#### even though we are picking a number that is</span>
        <span class="c">#### an integer the multiplier has to be a float </span>
        <span class="n">pck_rndm_err</span> <span class="o">=</span> <span class="p">((</span><span class="n">liabhar</span><span class="o">.</span><span class="n">random_number_int</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="c">#### from the list of in_sync ports get the port that cooresponds</span>
        <span class="c">#### to the number    i = in_sync_port[port_to_add_err]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">in_sync_ports</span><span class="p">[</span><span class="n">port_to_add_err</span><span class="p">]</span>
        <span class="n">chip_numb</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">chip_id</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>
        <span class="n">chip_port</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">port_in_sync</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
        <span class="n">usr_port</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="c">#### some debug info</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;CHIP #   CHIP-ID    CHIP PORT   STATE &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">         </span><span class="si">%s</span><span class="s">           </span><span class="si">%s</span><span class="s">         </span><span class="si">%s</span><span class="s">   &quot;</span> <span class="o">%</span><span class="p">(</span> <span class="n">chip_numb</span><span class="p">,</span> <span class="n">chip_id</span><span class="p">,</span> <span class="n">chip_port</span><span class="p">,</span> <span class="n">port_in_sync</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
        <span class="c">####  get the port error list</span>
        <span class="n">port_los_error</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">PortStats</span><span class="p">()</span>
        <span class="n">coutr_to_incr_name</span> <span class="o">=</span> <span class="n">port_los_error</span><span class="p">[</span><span class="n">pck_rndm_err</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="c">#coutr_to_incr_count = int(port_los_error[pck_rndm_err][1])</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port_los_error</span><span class="p">[</span><span class="n">pck_rndm_err</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">add_this</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">random_number_int</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
            <span class="c">#coutr_to_incr_count = coutr_to_incr_count + 3</span>
            <span class="c">#coutr_to_incr_count += 21</span>
            <span class="n">coutr_to_incr_count</span> <span class="o">+=</span> <span class="n">add_this</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="c">#ras_count = re.compile(&#39;([\.\d+])([gkmt])&#39;)</span>
            <span class="c">#ras_count = ras_count.findall(coutr_to_incr_count)</span>
        
            <span class="c">#print(ras_count)</span>
            <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="n">port_los_error</span><span class="p">[</span><span class="n">pck_rndm_err</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;counter value is  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">coutr_to_incr_count</span><span class="p">)</span>
            <span class="n">ras_count</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;([\.\d]+)([gkmt])&#39;</span><span class="p">)</span>
            <span class="n">ras_count</span> <span class="o">=</span> <span class="n">ras_count</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">coutr_to_incr_count</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;ras count is  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">ras_count</span> <span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">ras_count</span><span class="p">))</span>
            <span class="n">current_count</span> <span class="o">=</span> <span class="n">ras_count</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">current_multiplyer</span> <span class="o">=</span> <span class="n">ras_count</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">CURRENT_COUNT  </span><span class="si">%s</span><span class="s">   &quot;</span> <span class="o">%</span> <span class="n">current_count</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">current_count</span><span class="p">))</span>
            
            <span class="n">current_count</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">current_count</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">CURRENT_COUNT  </span><span class="si">%s</span><span class="s">   &quot;</span> <span class="o">%</span> <span class="n">current_count</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">current_count</span><span class="p">))</span>
            <span class="c">#coutr_to_incr_count = ((current_count * 1001) + 1000)</span>
            <span class="c">#coutr_to_incr_count = (float(ras_count[0])*10.0)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">NEW COUNTER VALUE IS   </span><span class="si">%s</span><span class="s">    </span><span class="se">\n\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">coutr_to_incr_count</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="s">&#39;k&#39;</span> <span class="ow">in</span> <span class="n">current_multiplyer</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&#39;K is the multiplyer &#39;</span><span class="p">)</span>
                <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="p">((</span><span class="n">current_count</span> <span class="o">*</span> <span class="mi">1001</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1000</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="s">&#39;m&#39;</span> <span class="ow">in</span> <span class="n">current_multiplyer</span><span class="p">:</span>
                <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="p">((</span><span class="n">current_count</span> <span class="o">*</span> <span class="mi">10001</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10000</span> <span class="p">)</span>
            
            <span class="k">else</span><span class="p">:</span>
                <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="mi">1</span>
                
            <span class="n">coutr_to_incr_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">coutr_to_incr_count</span><span class="p">)</span>

        <span class="c">#### configure the db command</span>
        <span class="c">####   db [slot/chip] stats set [chipport] [counter] [value]</span>
        <span class="n">db_cmd</span> <span class="o">=</span> <span class="s">&quot;db </span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s"> stats set </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">slot_numb</span><span class="p">,</span> <span class="n">chip_numb</span><span class="p">,</span> \
                                                  <span class="n">chip_port</span><span class="p">,</span> <span class="n">coutr_to_incr_name</span><span class="p">,</span> <span class="n">coutr_to_incr_count</span><span class="p">)</span>
        
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">db_cmd</span><span class="p">)</span>

    <span class="c">#### confirm if the port is still in_sync once errors are started</span>
    <span class="c">####  code goes here</span>
        
    <span class="c">##for i in bld_map:</span>
    <span class="c">##    if &quot;In_Sync&quot; in (i[12]):</span>
    <span class="c">##        chip_numb = i[8]</span>
    <span class="c">##        chip_id = i[11]</span>
    <span class="c">##        chip_port = i[4]</span>
    <span class="c">##        port_in_sync = i[12]</span>
    <span class="c">##        usr_port = i[1]</span>
    <span class="c">##        print(&quot;CHIP #   CHIP-ID    CHIP PORT   STATE &quot;)</span>
    <span class="c">##        print(&quot;%s         %s           %s         %s   &quot; %( chip_numb, chip_id, chip_port, port_in_sync))</span>
           
   
        
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;MY RANDOM NUMBER   </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">port_to_add_err</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;ERR COUNTER TO INCRIMENT  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">coutr_to_incr_name</span> <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;ERR COUNTER TO INCRIMENT   </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">coutr_to_incr_count</span><span class="p">)</span>
    
    
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show all&quot;</span><span class="p">)</span>
        <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c">###############################################################################        </span>
   </div>
<div class="viewcode-block" id="tc_02_01_01_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_02_01_01_01">[docs]</a><span class="k">def</span> <span class="nf">tc_02_01_01_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.02.01.01.01 </span>
<span class="sd">        Title:      License of Flow Vision</span>
<span class="sd">        Feature:    Flow Vision</span>
<span class="sd">        Objective:  Verify Flow Vision requires a license</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">#### 1. confirm license is not installed</span>
    <span class="c">####    a. this can be flow vision, APM or FW license</span>
    <span class="c">####    b. if license is installed remove license</span>
    <span class="c">#### 2. send each Flow Vision command</span>
    <span class="c">#### 3. confirm the message for each command</span>
    <span class="c">#### 4. add all license back</span>
    <span class="c">####    a. dont need to confirm Flow Vision license since the</span>
    <span class="c">####        test will fail if it is not one of the license</span>
    <span class="c">#### 5. send each Flow Vision command</span>
    <span class="c">#### 6. confirm the message for each command</span>
    <span class="c">####</span>
    <span class="c">#### 7. confirm help message for each command</span>
    <span class="c">#### 8. confirm man page is available for each command</span>
    <span class="c">####    a. confirm first page of man page - the rest is visual</span>
    <span class="c">####</span>
    <span class="c">####  Flow </span>
    <span class="c">####  mapsConfig 	 mapsPolicy  	mapsconfig  	mapshelp</span>
    <span class="c">####  mapsrule 	 mapsHelp   	 mapsRule    	mapsdb      </span>
    <span class="c">####  mapspolicy  	mapssam 	relayconfig *	logicalgroup *</span>
    <span class="c">####  * commands will not have a MAPS message since they are used</span>
    <span class="c">####     in other features</span>
    <span class="c">#### LPMDE3mKQQrtTYYrKAWEPfFGgZfm7X3JBAXFM</span>
    <span class="c">####     </span>
    <span class="c">#### start the test</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    <span class="n">cmds_list</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">()</span>
    <span class="n">cmds_list_w_usage</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;usage&quot;</span><span class="p">)</span>
    <span class="n">cmds_list_w_correct</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;all&quot;</span><span class="p">)</span>
    
    <span class="c">#### get the list of license and remove them from the switch</span>
    <span class="n">l_list</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getLicense</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;license list </span><span class="se">\n\n</span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span> <span class="n">l_list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">license</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;licenseremove </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">license</span><span class="p">)</span>
    <span class="c">#### no need to confirm the Flow Vision license</span>
    <span class="c">####  just remove all the license and test</span>
    <span class="c">####   if no license for flow vision the test case will fail</span>
    
    <span class="n">cmds_list</span> <span class="o">=</span> <span class="n">flow_tools</span><span class="o">.</span><span class="n">flow</span><span class="p">()</span>
    <span class="n">cmds_list_w_usage</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;usage&quot;</span><span class="p">)</span>
    <span class="n">cmds_list_w_correct</span> <span class="o">=</span> <span class="n">maps_tools</span><span class="o">.</span><span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;all&quot;</span><span class="p">)</span>
    
    
    
    
    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
    <span class="n">myzone</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">zone_info</span><span class="p">()</span>
    
    <span class="n">eports</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="c">#print(&quot;\n\nMY E-PORTS  %s &quot; % eports )</span>
    <span class="c">#print(&quot;use the first port found for now %s  &quot; % eports[0][0])</span>
    <span class="c">#### for pizza box</span>
    
    <span class="c">#fid_now = en.currentFID()</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">DoSupportsave</span><span class="p">(</span><span class="s">&#39;10.38.38.138&#39;</span><span class="p">,</span><span class="s">&#39;ftp2&#39;</span><span class="p">,</span><span class="s">&#39;ftp&#39;</span><span class="p">,</span><span class="s">&#39;chassisname&#39;</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="mi">5555</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">3600</span><span class="p">:</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span> 
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 5&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;portenable %s &quot; % p[0])</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;sleep 10&quot;)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################   </span>
    
 
   
    </div>
<div class="viewcode-block" id="tc_01_01_template"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_template">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_template</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.template</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Predfined Group Management</span>
<span class="sd">        Objective:  Verify the predefined groups including only the elements</span>
<span class="sd">        defined for each group </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    <span class="c">#fabmems = anturlar.fabric_members()</span>
    

    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
    <span class="n">myzone</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">zone_info</span><span class="p">()</span>
    
    <span class="n">eports</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="c">#print(&quot;\n\nMY E-PORTS  %s &quot; % eports )</span>
    <span class="c">#print(&quot;use the first port found for now %s  &quot; % eports[0][0])</span>
    <span class="c">#### for pizza box</span>
    
    <span class="c">#fid_now = en.currentFID()</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">DoSupportsave</span><span class="p">(</span><span class="s">&#39;10.38.38.138&#39;</span><span class="p">,</span><span class="s">&#39;ftp2&#39;</span><span class="p">,</span><span class="s">&#39;ftp&#39;</span><span class="p">,</span><span class="s">&#39;chassisname&#39;</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">3600</span><span class="p">:</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span> 
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 5&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;portenable %s &quot; % p[0])</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;sleep 10&quot;)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################   </span>
    
 </div>
<div class="viewcode-block" id="mem_monitor_test"><a class="viewcode-back" href="../index.html#fvtc_0.mem_monitor_test">[docs]</a><span class="k">def</span> <span class="nf">mem_monitor_test</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    excecute the mem_monitor test in cofra</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">cofra</span><span class="o">.</span><span class="n">mem_monitor</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">104</span><span class="p">)</span>
<span class="c">###############################################################################</span>

 
 </div>
<div class="viewcode-block" id="firmwaredownload"><a class="viewcode-back" href="../index.html#fvtc_0.firmwaredownload">[docs]</a><span class="k">def</span> <span class="nf">firmwaredownload</span><span class="p">(</span><span class="n">frmdwn</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        uses cofra firmwaredownload to do testing for update to</span>
<span class="sd">        newest code</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;ipaddrshow&quot;</span><span class="p">)</span>
    <span class="c">#match = re.search(&#39;(?P&lt;ipaddress&gt;[\s+\S+]+:([\d\.]){7,15}(?=\\r\\n))&#39;, capture_cmd)</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;(?P&lt;pre&gt;([\s+\w+]+):\s?(?P&lt;ip&gt;[0-9\.]{1,15}))&#39;</span><span class="p">,</span> <span class="n">capture_cmd</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
        <span class="n">myip</span> <span class="o">=</span> <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">&#39;ip&#39;</span><span class="p">))</span>
        <span class="c">#return(myip)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s"> NO IP FOUND </span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="c">#return (0)</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c">#f = cofra.doFirmwareDownload(frmdwn)</span>
        <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;version&quot;</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">DoFirmwaredownloadChoice</span><span class="p">(</span><span class="s">&#39;v7.2.1c&#39;</span><span class="p">,</span><span class="s">&#39;v7.3.0b_rc1_bld06&#39;</span><span class="p">)</span>
        
        <span class="c">#</span>
        <span class="c">#print(&quot;value of f is :  &quot;)</span>
        <span class="c">#print(f)</span>
        <span class="c">#</span>
        <span class="c">#if &quot;failed&quot; in f:</span>
        <span class="c">#    sys.exit()</span>
        
         
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">myip</span><span class="p">,</span> <span class="s">&#39;root&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">)</span>
        <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;version&quot;</span><span class="p">)</span>
        
        <span class="n">f</span> <span class="o">=</span> <span class="n">cofra</span><span class="o">.</span><span class="n">DoFirmwaredownloadChoice</span><span class="p">(</span><span class="s">&#39;v7.2.1c&#39;</span><span class="p">,</span><span class="s">&#39;v7.3.0b_rc1_bld06&#39;</span><span class="p">)</span>
    
        <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">myip</span><span class="p">,</span> <span class="s">&#39;root&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">)</span>
        <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>

    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c">###############################################################################</span>
 </div>
<span class="k">def</span> <span class="nf">credit_recovery</span><span class="p">():</span>
    <span class="k">pass</span>





<span class="k">def</span> <span class="nf">end</span><span class="p">():</span>
    <span class="k">pass</span>
        
    
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">SQA_automation 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, S_M.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>