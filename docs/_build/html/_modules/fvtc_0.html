<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fvtc_0 &mdash; SQA_automation 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="SQA_automation 1.0 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">SQA_automation 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for fvtc_0</h1><div class="highlight"><pre>
<span class="c">#!/opt/python3/bin/python3</span>

<span class="c">###############################################################################</span>
<span class="c">#### Home location is</span>
<span class="c">####</span>
<span class="c">###############################################################################</span>

<span class="kn">import</span> <span class="nn">anturlar</span>
<span class="kn">import</span> <span class="nn">liabhar</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">sys</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Naming conventions --</span>

<span class="sd">module_name                     package_name            </span>
<span class="sd">method_name                     ExceptionName           </span>
<span class="sd">global_var_name                 instance_var_name</span>
<span class="sd">function_parameter_name         local_var_name</span>
<span class="sd">GLOBAL_CONSTANT_NAME            ClassName</span>
<span class="sd">                                function_name</span>
<span class="sd">                                </span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="tc_01_01_01_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_01_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_01_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.01.02</span>
<span class="sd">        Title:      MAPS commands available with a license</span>
<span class="sd">        Feature:    MAPS CLI</span>
<span class="sd">        Confirm MAPS CLI function correctly with and without a license</span>
<span class="sd">        installed</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####</span>
    <span class="c">####   2.  man page output</span>
    <span class="c">####   3.  confirm the correct commands return the right data</span>
    <span class="c">####   4.  if a license requires to answer a question about removal</span>
    <span class="c">####            (encryption)</span>
    <span class="c">####</span>
    <span class="c">####   Complete</span>
    <span class="c">####   1.  pass / fail for each step of test case</span>
    <span class="c">####       make the test_result a list of list [ step_0 pass ][step_2 fail]</span>
    <span class="c">####       </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####</span>
    <span class="c">#### 1. confirm license is not installed</span>
    <span class="c">####    a. this can be flow vision, APM or FW license</span>
    <span class="c">####    b. if license is installed remove license</span>
    <span class="c">#### 2. send each MAPS command</span>
    <span class="c">#### 3. confirm the message for each command</span>
    <span class="c">#### 4. add all license back</span>
    <span class="c">####    a. dont need to confirm Flow Vision license since the</span>
    <span class="c">####        test will fail if it is not one of the license</span>
    <span class="c">#### 5. send each MAPS command</span>
    <span class="c">#### 6. confirm the message for each command</span>
    <span class="c">####</span>
    <span class="c">#### 7. confirm help message for each command</span>
    <span class="c">#### 8. confirm man page is available for each command</span>
    <span class="c">####    a. confirm first page of man page - the rest is visual</span>
    <span class="c">####</span>
    <span class="c">####  mapsConfig 	 mapsPolicy  	mapsconfig  	mapshelp</span>
    <span class="c">####  mapsrule 	 mapsHelp   	 mapsRule    	mapsdb      </span>
    <span class="c">####  mapspolicy  	mapssam 	relayconfig *	logicalgroup *</span>
    <span class="c">####  * commands will not have a MAPS message since they are used</span>
    <span class="c">####     in other features</span>
    <span class="c">#### LPMDE3mKQQrtTYYrKAWEPfFGgZfm7X3JBAXFM</span>
    <span class="c">####   beRybSSdefSzc8     beRybSSdgfSzcA</span>
    <span class="c">#### start the test</span>
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    
    <span class="n">p</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">cmds_list</span> <span class="o">=</span> <span class="n">mapscommand_list</span><span class="p">()</span>
    <span class="n">cmds_list_w_usage</span> <span class="o">=</span> <span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;usage&quot;</span><span class="p">)</span>
    <span class="n">cmds_list_w_correct</span> <span class="o">=</span> <span class="n">mapscommand_list</span><span class="p">(</span><span class="s">&quot;all&quot;</span><span class="p">)</span>
    <span class="c">#### get the list of license and remove them from the switch</span>
    <span class="n">l_list</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getLicense</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;license list </span><span class="se">\n\n</span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span> <span class="n">l_list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">license</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;licenseremove </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">license</span><span class="p">)</span>
    <span class="c">#### no need to confirm the Flow Vision license</span>
    <span class="c">####  just remove all the license and test</span>
    <span class="c">####   if no license for flow vision the test case will fail</span>
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;license not present&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">license</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;licenseadd </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">license</span><span class="p">)</span>
        
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list_w_usage</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;Usage:&quot;</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="s">&quot;MAPS not active.&quot;</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step2&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            
    
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds_list_w_correct</span><span class="p">:</span>
        <span class="n">console_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;root&gt;&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">console_out</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">cmd</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step3&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>       
    
    
    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.01.02 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="tc_01_01_03_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_03_01">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_03_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.03.01</span>
<span class="sd">        Title:      MAPS Category Management Default thresholds</span>
<span class="sd">        Feature:    MAPS </span>
<span class="sd">        Confirm MAPS default thresholds are set correctly</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####</span>
    <span class="c">####   1.  pass / fail for each step of test case</span>
    <span class="c">####       make the test_result a list of list [ step_0 pass ][step_2 fail]</span>
    <span class="c">####   2.  ignore chassis rules on a pizza box    </span>
    <span class="c">####   3.  if bottleneckmonitor is enable FPI monitor will fail the command</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">####  steps</span>
    <span class="c">####</span>
    <span class="c">####  1. get a list of the rules from a switch</span>
    <span class="c">####  2. get the list of rules from 7.3.0  --  maps_default_rule()</span>
    <span class="c">####  3. compare the list</span>
    <span class="c">####  4. return any diffence as a failure</span>
    <span class="c">####</span>
    
    <span class="c">#### start the test</span>
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    
    <span class="n">p</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">sw_rules</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_rules</span><span class="p">()</span>
    <span class="c">#sw_rules = str(sw_rules)</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;&#39;&quot;, &quot;&quot;) #### remove &#39; from string</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;[&quot;, &quot;&quot;) #### remove open bracket</span>
    <span class="c">#sw_rules = sw_rules.replace(&quot;]&quot;, &quot;&quot;) #### remove ending bracket</span>
    <span class="n">df_rules</span> <span class="o">=</span> <span class="n">maps_default_rule</span><span class="p">()</span>
    
    <span class="n">sw_rules</span> <span class="o">=</span> <span class="n">sw_rules</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">df_rules</span> <span class="o">=</span> <span class="n">df_rules</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="n">count_df</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_rules</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sw_rules</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">count_df</span><span class="p">:</span>
        <span class="n">loop_count</span> <span class="o">=</span> <span class="n">count</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">loop_count</span> <span class="o">=</span> <span class="n">count_df</span>
    <span class="n">i</span> <span class="o">=</span><span class="mi">0</span>
    <span class="n">rule_differ</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">loop_count</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">comparing switch rule with default rule &quot;</span><span class="p">)</span>
        <span class="c">#print(&quot;%s      %s &quot; % (sw_rules[i], df_rules[i]))</span>
        <span class="k">if</span> <span class="n">sw_rules</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_rules</span><span class="p">:</span>
            <span class="n">rule_differ</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="n">sw_rules</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
            <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Fail Fail Fail Fail</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;The number of rules that differ are </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">rule_differ</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;The number of additional rules on the switch </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">count</span> <span class="o">-</span> <span class="n">count_df</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sw_rules</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_rules</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.01.02 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tc_01_01_03_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_03_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_03_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.03.02</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Predfined Group Management</span>
<span class="sd">        Verify the predefined groups including only the elements</span>
<span class="sd">        defined for each group </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   E-Port </span>
    <span class="c">####    2.   QSFP</span>
    <span class="c">####    3.   check all other category in the group</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####</span>
    <span class="c">#### 1. get each port type</span>
    <span class="c">####    a. all ports        d. E_ports ?     f. other_f_ports       </span>
    <span class="c">####    b. non_e_f_ports    e. F_ports      g. D_ports</span>
    <span class="c">####    c. Target_ports     f. Host_ports ?? portFlag ??</span>
    <span class="c">####</span>
    <span class="c">#### 2. get each TS / FAN / PS / WWN</span>
    <span class="c">####    a. TS  - tempshow count the state of OK</span>
    <span class="c">####    b. FAN - fanshow count the Fan</span>
    <span class="c">####    c. PS  - psshow count the Power Supply #</span>
    <span class="c">####    d. WWN - ??</span>
    <span class="c">####</span>
    <span class="c">#### 3. get each SFP type</span>
    <span class="c">####    a. sfpshow - count the id (sw) and Speed that are 16 / 10 and not 16 / 10</span>
    <span class="c">####    b. Qsfp - count ??  maybe serial number ?</span>
    <span class="c">####</span>
    <span class="c">#### 4. get each Blade type</span>
    <span class="c">####    a. slotshow - count the slots and blades</span>
    <span class="c">####</span>
    <span class="c">#### 5. Compare to logicalgroup --show output</span>
    <span class="c">####</span>
    <span class="c">#### 6. repeat for each FID</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### start the test</span>
    <span class="c">####</span>
    <span class="c">#### get the info from the switch</span>
    <span class="c">####  Step 1</span>
    <span class="c">####</span>
    <span class="n">pgm</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">port_list</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">all_ports</span><span class="p">()</span>
    <span class="n">port_list_no_ve</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">all_ports_fc_only</span><span class="p">()</span>
    <span class="n">e_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="n">f_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">f_ports</span><span class="p">()</span>
    <span class="n">sim_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sim_ports</span><span class="p">()</span>
    <span class="n">d_ports</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">d_ports</span><span class="p">()</span>
    <span class="c">#other_f_ports = pgm.f_ports_other()</span>
    <span class="c">#non_ef_port = pgm.ports - e_ports - f_ports</span>
    <span class="c">#host_ports = pgm.host_ports()</span>
    <span class="c">#target_ports = pgm.target_ports()</span>
    <span class="n">fans_count</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">fan_count</span><span class="p">()</span>
    <span class="n">blade_count</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">blades</span><span class="p">()</span>
    <span class="n">temp_sensor</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">temp_sensors</span><span class="p">()</span>
    <span class="n">temp_sensor_absent</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">temp_sensors</span><span class="p">(</span><span class="s">&quot;absent&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_f</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;f&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_t</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;t&quot;</span><span class="p">)</span>
    <span class="n">fan_count_sensor_ps</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sensor_t_f_ps</span><span class="p">(</span><span class="s">&quot;ps&quot;</span><span class="p">)</span>
    <span class="n">sfp_list</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sfp_info</span><span class="p">()</span>
    <span class="n">sfp_summary</span> <span class="o">=</span> <span class="n">pgm</span><span class="o">.</span><span class="n">sfp_info</span><span class="p">(</span><span class="s">&quot;summary&quot;</span><span class="p">)</span>
    <span class="n">total_f_ports</span> <span class="o">=</span> <span class="n">f_ports</span> <span class="o">+</span> <span class="n">sim_ports</span>
    
    
    
    
    <span class="c">###########################################################################</span>
    <span class="c">#### get the data from the switch</span>
    <span class="c">####</span>
    <span class="c">####    </span>
    <span class="c">####   ALL_F_PORTS         ALL_OTHER_F_PORTS       ALL_HOST_PORTS    </span>
    <span class="c">####   ALL_TARGET_PORTS    ALL_TS                  ALL_FAN        </span>
    <span class="c">####   ALL_PS              ALL_WWN                 ALL_SFP        </span>
    <span class="c">####   ALL_10GSWL_SFP *     ALL_10GLWL_SFP *        ALL_16GSWL_SFP * </span>
    <span class="c">####   ALL_16GLWL_SFP  *    ALL_QSFP                ALL_OTHER_SFP  *</span>
    <span class="c">####   ALL_SLOTS           ALL_SW_BLADES           ALL_CORE_BLADES</span>
    <span class="c">####   ALL_FLASH           ALL_CIRCUITS            SWITCH *     </span>
    <span class="c">####  CHASSIS *            ALL_D_PORTS</span>
    
    <span class="n">t1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">blade_count</span><span class="p">)</span>
    
    
    <span class="n">t_fports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_ofports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_OTHER_F_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_hostports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_HOST_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_targetports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_TARGET_PORTS&quot;</span><span class="p">))</span>
    <span class="n">t_ts</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_TS&quot;</span><span class="p">))</span>
    <span class="n">t_fan</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_FAN&quot;</span><span class="p">))</span>
    <span class="n">t_ps</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_PS&quot;</span><span class="p">))</span>
    <span class="n">t_wwn</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_WWN&quot;</span><span class="p">))</span>
    <span class="n">t_sfp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SFP&quot;</span><span class="p">))</span>
    
    <span class="n">t_qsfp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_QSFP&quot;</span><span class="p">))</span>
    <span class="n">t_slots</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SLOTS&quot;</span><span class="p">))</span>
    <span class="n">t_swblade</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_SW_BLADES&quot;</span><span class="p">))</span>
    <span class="n">t_coreblade</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_CORE_BLADES&quot;</span><span class="p">))</span>
    <span class="n">t_flash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_FLASH&quot;</span><span class="p">))</span>
    <span class="n">t_circuits</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_CIRCUITS&quot;</span><span class="p">))</span>
    
    <span class="n">t_dports</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;ALL_D_PORTS&quot;</span><span class="p">))</span>
    
    <span class="n">t_error</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pgm</span><span class="o">.</span><span class="n">logicalgroup_count</span><span class="p">(</span><span class="s">&quot;notinthelist&quot;</span><span class="p">))</span>
    
    <span class="c">###########################################################################</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">INFO FROM the SWITCH ITSELF&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">port list is            : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_list</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;port list no ve is       : </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">port_list_no_ve</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;F ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">total_f_ports</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;E ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">e_ports</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp sensors is          : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_sensor</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp sensors missing     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_sensor_absent</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;TEMP from sensor cmd     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_t</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;PS from sensor cmd       : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_ps</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;fans      is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fans_count</span><span class="p">))</span>
   
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fan from sensor cmd      : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">fan_count_sensor_f</span><span class="p">))</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SFP summary  less SIM    : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">sfp_summary</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SFP list of speed  -     : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">sfp_list</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&quot;blade_count is           : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">blade_count</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;D ports   is             : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">d_ports</span><span class="p">))</span>
    
    <span class="c">#print(&quot;Need the fan sensor output : %s &quot; % port_list)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;INFO FROM LOGICAL GROUP COMMAND&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">ALL Ports count          :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_fports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL other F port count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ofports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL host port count       :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_hostports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL target port count     :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_targetports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL temp sensors count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ts</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL POWER SUPPLY count    :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_ps</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL FAN count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_fan</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;All WWN count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_wwn</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL SFP count             :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_sfp</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL QSFP count            :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_qsfp</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL slot count            :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_slots</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL blade count           :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_swblade</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL core blade count      :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_coreblade</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL flash count           :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_flash</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL circuit count         :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_circuits</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ALL D Port count          :  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">t_dports</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    
    
     
    <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">t1</span> <span class="o">!=</span> <span class="n">t_swblade</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&quot;ALL_SW_BLADES&quot;</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; step1&#39;</span>
        <span class="n">test_result</span> <span class="o">+=</span> <span class="s">&#39; Fail</span><span class="se">\n</span><span class="s">&#39;</span>    
    
    <span class="k">if</span> <span class="n">test_result</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">test_result</span> <span class="o">=</span> <span class="s">&quot;PASS&quot;</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">TEST RESULTS FOR Test Case   25.01.01.03.02 &quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">test_result</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tc_01_01_05_01"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_01">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_01</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.01</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Environmental Events and alarms</span>
<span class="sd">        Objective:  Verify the Environmental events and alarms in Switch</span>
<span class="sd">                    Resource Category of MAPS</span>
<span class="sd">                    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   DNS configure</span>
    <span class="c">####    2.   SNMP configure   </span>
    <span class="c">####    3.   need to confirm the CPU message is only returned after two</span>
    <span class="c">####         polling cycles </span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. create a policy for the rules that are created in the next step</span>
    <span class="c">####    2. create rules for flash usage, memory usage and CPU usage</span>
    <span class="c">####    3. enable the policy</span>
    <span class="c">####    4. confirm or set the actions in mapsconfig (raslog, email, snmp)</span>
    <span class="c">####    5. confirm DNS is configured and snmp is configured</span>
    <span class="c">####    6. get the current usage of the flash, cpu, memory, temp</span>
    <span class="c">####        - flash  confirm with df /</span>
    <span class="c">####        - cpu confirm with cat /proc/stat look for cpu grab</span>
    <span class="c">####          the idle time for calculation</span>
    <span class="c">####        - memory usage vmstat,  free,  top  cat /proc/meminfo</span>
    <span class="c">####        - tempshow     pgm.sensor_t_f_ps(&quot;t&quot;) </span>
    <span class="c">####    7. confirm RAS log message</span>
    <span class="c">####    8. confirm MAPS entry</span>
    <span class="c">####</span>
    <span class="c">####    9. cleanup switch of the rules and policy</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start the test</span>
    <span class="c">####</span>
    <span class="c">####  mapsrule --create sqa_switch_res_flash_usage_down  -group chassis</span>
    <span class="c">####  -monitor flash_usage -value 50 -action email,raslog,snmp,sw_marginal</span>
    <span class="c">####    -op ge -policy environ_test</span>
    <span class="c">####  mapsrule --create sqa_switch_res_cpu_usage_down -group chassis</span>
    <span class="c">####   -monitor cpu -value 100 -action email,raslog,snmp</span>
    <span class="c">####    -op le -policy policy_test_1</span>
    <span class="c">####</span>
    <span class="c">####  mapspolicy --create environ_test</span>
    <span class="c">####</span>
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">#### create a policy and rules</span>
    <span class="c">####</span>
    <span class="n">flash_rule_name</span> <span class="o">=</span> <span class="s">&quot;sqa_sw_res_flash_usage_down&quot;</span>
    <span class="n">cpu_rule_name</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_res_cpu_usage_down&quot;</span>
    <span class="n">mem_rule_name</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_res_memory_usage&quot;</span>
    <span class="n">temp_rule_out</span>   <span class="o">=</span> <span class="s">&quot;sqa_sw_temp_out&quot;</span>
    <span class="n">temp_rule_in</span>    <span class="o">=</span> <span class="s">&quot;sqa_sw_temp_in&quot;</span>
    
    
    <span class="n">cmd_flash</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">flash_rule_name</span> <span class="o">+</span><span class="s">&quot; -group chassis</span><span class="se">\</span>
<span class="s">              -monitor flash_usage -value 30 -action email,raslog,snmp,sw_marginal</span><span class="se">\</span>
<span class="s">              -op ge -policy environ_test&quot;</span> 
    
    <span class="n">cmd_cpu</span><span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">cpu_rule_name</span> <span class="o">+</span><span class="s">&quot; -group chassis </span><span class="se">\</span>
<span class="s">               -monitor cpu -value 100 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">               -op le -policy environ_test&quot;</span>
    
    <span class="n">cmd_mem</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">mem_rule_name</span> <span class="o">+</span><span class="s">&quot;  -group chassis </span><span class="se">\</span>
<span class="s">              -monitor memory_usage -value 100 -action email,raslog,snmp  </span><span class="se">\</span>
<span class="s">              -op le -policy environ_test&quot;</span>
    
    <span class="n">cmd_temp</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span><span class="o">+</span> <span class="n">temp_rule_out</span> <span class="o">+</span><span class="s">&quot; -group ALL_ts </span><span class="se">\</span>
<span class="s">               -monitor temp -timebase none -value out_of_range </span><span class="se">\</span>
<span class="s">               -action snmp,raslog,email -op eq -policy environ_test&quot;</span>
    
    <span class="n">cmd_temp_in</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create &quot;</span> <span class="o">+</span> <span class="n">temp_rule_in</span> <span class="o">+</span> <span class="s">&quot; -group ALL_ts </span><span class="se">\</span>
<span class="s">                  -monitor temp -timebase none -value IN_range </span><span class="se">\</span>
<span class="s">                  -action snmp,raslog,email -op eq -policy environ_test&quot;</span> 
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create environ_test&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_flash</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_cpu</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_mem</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_temp</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_temp_in</span><span class="p">)</span>
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable environ_test&quot;</span><span class="p">)</span>
    <span class="c">####</span>
    <span class="c">#### do some steps here</span>
    <span class="c">####</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">waiting for maps actions to be triggered. . .&quot;</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span>
    <span class="c">####  see if there is a ras log message for each rule</span>
    <span class="n">mem_ras_message</span>   <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">mem_rule_name</span><span class="p">)</span>
    <span class="n">flash_ras_message</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">flash_rule_name</span><span class="p">)</span>
    <span class="n">temp_ras_message</span>  <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">temp_rule_in</span><span class="p">)</span>
    <span class="n">cpu_ras_message</span>   <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ras_message_search</span><span class="p">(</span><span class="n">cpu_rule_name</span><span class="p">)</span>
    
    <span class="c">####  see if there is a mapsdb entry for each rule</span>
    <span class="c">#mem_mapsdb_confirm = en.db_search(mem_rule_name)</span>
    <span class="c">#mem_mapsdb_confirm = mem_mapsdb_confirm.replace(&quot;|&quot;,&quot;&quot;)</span>
    <span class="c">#mem_confirm_final = mem_mapsdb_confirm.split(&quot; &quot;)</span>
    <span class="n">mem_confirm</span>       <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">mem_rule_name</span><span class="p">)</span>
    <span class="n">flash_confirm</span>     <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">flash_rule_name</span><span class="p">)</span>
    <span class="n">cpu_confirm</span>       <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">cpu_rule_name</span><span class="p">)</span>
    <span class="n">temp_confirm</span>      <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">db_search</span><span class="p">(</span><span class="n">temp_rule_in</span><span class="p">)</span>
    
    <span class="c">#### get the raw data from the switch</span>
    <span class="c">####</span>
    <span class="c">#### example from df command for Flash usage</span>
    <span class="c">####Filesystem           1k-blocks      Used Available Use% Mounted on</span>
    <span class="c">#/dev/root               495016    210188    259276  45% /</span>
    <span class="c">#/dev/hda1               494984    210716    258720  45% /mnt</span>
    <span class="c">####</span>
    <span class="c">####  no calculation needed since the use% is the correct number</span>
    <span class="c">####</span>
    <span class="n">flash_df_command</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;df&quot;</span><span class="p">)</span>
    <span class="n">ras</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;[\d]+(?=%)&#39;</span><span class="p">)</span>
    <span class="n">flash_raw</span> <span class="o">=</span> <span class="n">ras</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">flash_df_command</span><span class="p">)</span>
    <span class="n">flash_usage</span> <span class="o">=</span> <span class="n">flash_raw</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>   
    
    <span class="c">### equation to confirm mem usage</span>
    <span class="c">#### using the command free returns these values</span>
    <span class="c">####          total       used       free     shared    buffers     cached</span>
    <span class="c"># Mem:       1024096     672768     351328          0      40884     379300</span>
    <span class="c"># -/+ buffers/cache:     252584     771512</span>
    <span class="c"># Swap:            0          0          0</span>
    <span class="c">####</span>
    <span class="c">####  use the calculation (total - free - buffers - cached)/ total</span>
    <span class="c">####    ( 1024096 - 351328 - 40884 - 379300 ) / 1024096 = = 25%</span>
    <span class="c">####</span>
    <span class="n">mem_usage</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">mem_usage</span><span class="p">()</span>
    <span class="c">#### equation for cpu usage</span>
    <span class="c">#### cat /proc/stat - in the line containing cpu, the 4th number </span>
    <span class="c">####   is the idle time.  The CPU usage is calculated as</span>
    <span class="c">####  (100-(idle value at T1 - idle value at T2)*100/(sum of all number</span>
    <span class="c">####           at T1 - sum of all numbers at T2))</span>
    <span class="c">####</span>
    <span class="c">####    cat /proc/stat</span>
    <span class="c"># cpu  1296327 9539 459156 22597828 163062 9894 61210 0</span>
    <span class="c"># cpu0 1296327 9539 459156 22597828 163062 9894 61210 0</span>
    <span class="c"># intr 44837986softirq 65577794 148267 24596931 0 38492796 0 2339800</span>
    <span class="c">####</span>
    <span class="n">cpu_calc</span>    <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">cpu_usage</span><span class="p">()</span>
    <span class="n">temp_status</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">temp_status</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  clean up</span>
    <span class="c">####</span>
    <span class="n">policy_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_policies</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">)</span>
    <span class="n">policy_user_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_nondflt_policies</span><span class="p">()</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    
    <span class="n">cleanup_policy</span><span class="p">(</span><span class="n">policy_user_list</span><span class="p">)</span>
    <span class="n">policy_user_list_final</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">get_policies</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">)</span>
     
     
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Policy list&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">policy_list</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Policy list - User list&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">policy_user_list</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;memory ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;flash  ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cpu    ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp   ras message is   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_ras_message</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;memory db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;flash  db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cpu    db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;temp   db message is      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_confirm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;SWITCH VALUES&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated memory usage   :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">mem_usage</span> <span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated flash usage    :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">flash_usage</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated switch CPU     :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">cpu_calc</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;calculated Temp info      :  </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">temp_status</span><span class="p">)</span>
    
    <span class="k">return</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_02"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_02">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_02</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05_02</span>
<span class="sd">        Title:      MAPS Port Health</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify Port Related events / alarms</span>
<span class="sd">            at this time it is configuration for testing only. </span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   finisar API</span>
    <span class="c">####    2.   DNS configure</span>
    <span class="c">####    3.   SNMP configure </span>
    <span class="c">####</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. Setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="c">####    Link loss                      </span>
    <span class="c">####    Sync loss                      </span>
    <span class="c">####    Signal loss                    Port state change</span>
    <span class="c">####    Invalid Protocol               Link Reset</span>
    <span class="c">####    Invalid Word                   </span>
    <span class="c">####    CRC                            C3TX_TO</span>
    <span class="c">####</span>
    <span class="c">####    2. get the current values - or clear to zero and get them</span>
    <span class="c">####    3. trigger a rule - have the user trigger the rule </span>
    <span class="c">####    4. confirm a ras log message</span>
    <span class="c">####    5. confirm an entry in MPAS</span>
    <span class="c">####    6. clean up the switch</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### rule names and maps commands and maps policy</span>
    <span class="c">####</span>
    
    <span class="n">port_health_policy</span> <span class="o">=</span> <span class="s">&quot;port_health_policy&quot;</span>
    
    <span class="n">link_loss_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_all_ports_LF_N_1&quot;</span>
    <span class="n">sync_loss_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_all_ports_loss_sync_N_1&quot;</span>
    <span class="n">loss_signal_rule</span>       <span class="o">=</span> <span class="s">&quot;sqa_all_ports_loss_sig_N_1&quot;</span>
    <span class="n">port_state_change_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_all_ports_state_change_N_0&quot;</span>
    <span class="n">invalid_proto_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_all_ports_PE_N_1&quot;</span>
    <span class="n">link_reset_rule</span>        <span class="o">=</span> <span class="s">&quot;sqa_all_ports_LR_N_1&quot;</span>
    <span class="n">invalid_word_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_all_ports_ITW_N_1&quot;</span>
    <span class="n">crc_rule</span>               <span class="o">=</span> <span class="s">&quot;sqa_all_ports_CRC_N_1&quot;</span>
    <span class="n">c3to_rule</span>              <span class="o">=</span> <span class="s">&quot;sqa_all_ports_C3_TO_N_1&quot;</span>
    
    <span class="n">link_loss_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_LF_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor LF -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 2 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">sync_loss_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_loss_sync_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor loss_sync -timebase min </span><span class="se">\</span>
<span class="s">                            -value 2 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">loss_signal_cmd</span>       <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_loss_sig_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor loss_signal </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy port_health_policy&quot;</span>
    
    <span class="n">port_state_change_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_state_change_N_0 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor State_CHG -timebase min </span><span class="se">\</span>
<span class="s">                            -value 1 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">invalid_proto_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_PE_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor PE -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 5 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">lr_cmd</span>                <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_LR_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor LR -timebase min </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">invalid_word_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_ITW_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports </span><span class="se">\</span>
<span class="s">                            -monitor itw -timebase hour -value 5 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    <span class="n">crc_cmd</span>               <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_CRC_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports </span><span class="se">\</span>
<span class="s">                            -monitor crc -timebase min -value 6 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g -policy port_health_policy&quot;</span>
    
    <span class="n">c3tx_to_cmd</span>           <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_all_ports_C3_TO_N_1 </span><span class="se">\</span>
<span class="s">                            -group ALL_ports -monitor C3TXTO -timebase hour </span><span class="se">\</span>
<span class="s">                            -value 1 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy port_health_policy&quot;</span>
    
    
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">link_loss_cmd</span><span class="p">,</span> <span class="n">sync_loss_cmd</span><span class="p">,</span> <span class="n">loss_signal_cmd</span><span class="p">,</span>\
                <span class="n">port_state_change_cmd</span><span class="p">,</span>\
                <span class="n">invalid_proto_cmd</span><span class="p">,</span> <span class="n">lr_cmd</span><span class="p">,</span> <span class="n">invalid_word_cmd</span><span class="p">,</span>\
                <span class="n">crc_cmd</span><span class="p">,</span> <span class="n">c3tx_to_cmd</span> <span class="p">]</span>
    
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">port_health_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">port_health_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;porterrshow&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;wait here for the user to finish&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the db command to poke for one test, </span><span class="se">\</span>
<span class="s">          use the finisar for confirmation&quot;</span><span class="p">)</span>
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_03"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_03">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_03</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.03</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    FCIP </span>
<span class="sd">        Objective:  verify the FCIP traffic events and alarms</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. check if switch is fcip switch</span>
    <span class="c">####    2. confirm circuit and tunnel</span>
    <span class="c">####    3. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    
    




    
    <span class="n">fcip_health_policy</span> <span class="o">=</span> <span class="s">&quot;fcip_health_policy&quot;</span>
    
    
    <span class="n">circuit_change_rule</span>  <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_STATE&quot;</span>
    <span class="n">circuit_util_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_UTIL&quot;</span>
    <span class="n">packet_loss_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fcip_cir_pktloss&quot;</span>
    
    <span class="n">qos_tunnel_rule</span>      <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="n">rtt_rule</span>             <span class="o">=</span> <span class="s">&quot;sqa_fcip_rtt&quot;</span>
    <span class="n">jitter_rule</span>          <span class="o">=</span> <span class="s">&quot;sqa_fcip_jitter&quot;</span>
    
    <span class="n">state_change_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fcip_statechange&quot;</span>
    <span class="n">utilization_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fcip_utilization&quot;</span>
    <span class="n">packets_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_fcip_packet_loss&quot;</span>
    <span class="n">slow_starts</span>          <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    
    <span class="n">circuit_change_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_STATE </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_state </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy fcip_health_policy&quot;</span>
    
    <span class="n">circuit_util_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_UTIL </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_util </span><span class="se">\</span>
<span class="s">                            -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                            -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                            -policy fcip_health_policy &quot;</span>
    
    <span class="n">packet_loss_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_cir_pktloss </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor cir_pktloss </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy &quot;</span>
    
    <span class="n">qos_tunnel_cmd</span>      <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="c">####  remove -timebase hour for sqa_fcip_rtt and jitter</span>
    <span class="n">rtt_cmd</span>             <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_rtt </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor rtt </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy  &quot;</span>
    
    <span class="n">jitter_cmd</span>          <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_jitter </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor jitter </span><span class="se">\</span>
<span class="s">                            -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy  &quot;</span>
    
    <span class="n">state_change_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_statechange </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor state_chg </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy &quot;</span>
    
    <span class="n">utilization_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_utilization </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor util </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy&quot;</span>
    
    <span class="n">packets_cmd</span>         <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fcip_packet_loss </span><span class="se">\</span>
<span class="s">                            -group ALL_CIRCUITS -monitor pktloss </span><span class="se">\</span>
<span class="s">                            -timebase hour -value 0 -action email,raslog,snmp </span><span class="se">\</span>
<span class="s">                            -op g -policy fcip_health_policy&quot;</span>
    
    <span class="n">slow_starts_cmd</span>     <span class="o">=</span> <span class="s">&quot; &quot;</span>
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">circuit_change_cmd</span><span class="p">,</span> <span class="n">circuit_util_cmd</span><span class="p">,</span> <span class="n">packet_loss_cmd</span><span class="p">,</span> \
                 <span class="n">rtt_cmd</span><span class="p">,</span> <span class="n">jitter_cmd</span> <span class="p">]</span>
    
    <span class="c">####</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fcip_health_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fcip_health_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portshow fciptunnel &quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portshow fcipcircuit &quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;wait here for the user to finish&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the db command to poke for one test, use the finisar for confirmation&quot;</span><span class="p">)</span>
    
    
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_04"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_04">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_04</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.04</span>
<span class="sd">        Title:      Traffic Performance Events</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify the Traffic performance events and alarms</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. set up the rules and policies for the test</span>
    <span class="c">####    2. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>

    <span class="n">perf_policy</span> <span class="o">=</span> <span class="s">&quot;traffic_performance_policy&quot;</span>
    
    
    <span class="n">sqa_tf_rx_e_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_RX_E&quot;</span>
    <span class="n">sqa_tf_rx_f_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_RX_F&quot;</span>
     
    <span class="n">sqa_tf_tx_e_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_TX_E&quot;</span>
    <span class="n">sqa_tf_tx_f_rule</span>   <span class="o">=</span> <span class="s">&quot;sqa_trafperf_port_TX_F&quot;</span>
    <span class="n">sqa_tf_util_e_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_trafperf_util_E&quot;</span>
    <span class="n">sqa_tf_util_f_rule</span> <span class="o">=</span> <span class="s">&quot;sqa_trafperf_util_F&quot;</span>
    <span class="n">sqa_tf_rx_none</span>     <span class="o">=</span> <span class="s">&quot;sqa_trafperf_rx_none&quot;</span>
    <span class="n">sqa_tf_tx_none</span>     <span class="o">=</span> <span class="s">&quot;sqa_trafperf_tx_none&quot;</span>
    
    
    
    <span class="n">rx_e_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_E -group ALL_E_ports </span><span class="se">\</span>
<span class="s">                 -monitor RX  -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                 -op g -policy traffic_performance_policy&quot;</span>

    <span class="n">rx_f_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_F -group ALL_F_ports </span><span class="se">\</span>
<span class="s">                 -monitor RX  -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                 -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_e_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_E -group ALL_E_ports</span><span class="se">\</span>
<span class="s">                  -monitor TX -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_f_cmd</span>    <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_F -group ALL_F_ports</span><span class="se">\</span>
<span class="s">                  -monitor TX -timebase min -value 0 -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">util_e_cmd</span>  <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_UTIL_E </span><span class="se">\</span>
<span class="s">                  -group ALL_E_ports</span><span class="se">\</span>
<span class="s">                  -monitor UTIL -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                  -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                  -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">util_f_cmd</span>  <span class="o">=</span>  <span class="s">&quot;mapsrule --create sqa_trafperf_port_UTIL_F </span><span class="se">\</span>
<span class="s">                   -group ALL_F_ports</span><span class="se">\</span>
<span class="s">                   -monitor UTIL -timebase hour -value 0 </span><span class="se">\</span>
<span class="s">                   -action email,raslog,snmp</span><span class="se">\</span>
<span class="s">                   -op g -policy traffic_performance_policy&quot;</span>
    
    <span class="n">rx_none_cmd</span> <span class="o">=</span>  <span class="s">&quot;mapsrule --create sqa_trafperf_port_RX_Non </span><span class="se">\</span>
<span class="s">                   -group NON_E_F_ports -monitor RX  -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                   -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                   -policy traffic_performance_policy&quot;</span>
    
    <span class="n">tx_none_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_trafperf_port_TX_Non </span><span class="se">\</span>
<span class="s">                  -group NON_E_F_ports -monitor TX  -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                  -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                  -policy traffic_performance_policy&quot;</span>
    
    
    <span class="c">####  list of commands</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">rx_e_cmd</span><span class="p">,</span> <span class="n">rx_f_cmd</span><span class="p">,</span> <span class="n">tx_e_cmd</span><span class="p">,</span> <span class="n">tx_f_cmd</span><span class="p">,</span> <span class="n">util_e_cmd</span><span class="p">,</span> \
                <span class="n">util_f_cmd</span><span class="p">,</span> <span class="n">rx_none_cmd</span><span class="p">,</span> <span class="n">tx_none_cmd</span> <span class="p">]</span>
    
    
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">####</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">perf_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">perf_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;wait here for the user to finish&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the db command to poke for one test, </span><span class="se">\</span>
<span class="s">          use the finisar for confirmation&quot;</span><span class="p">)</span>
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">################################################################################</span>
</div>
<div class="viewcode-block" id="tc_01_01_05_05"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_05_05">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_05_05</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.05.05</span>
<span class="sd">        Title:      Fabric State Change</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify the Fabric State Change events and alarms</span>
<span class="sd">         </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   create each event to trigger the rule</span>
    <span class="c">####    2.   FLOGI</span>
    <span class="c">####    3.   director test</span>
    <span class="c">####    4.   add different time base for the rules( hour and days)</span>
    <span class="c">####    5.   eport down section need to check for switch is enabled -</span>
    <span class="c">####           if no fail that part of the test</span>
    <span class="c">#### </span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. configure the rules and policy for Fabric State Change</span>
    <span class="c">####    2.</span>
    <span class="c">####    3. Create the events that will trigger each rule</span>
    <span class="c">####        - e_port_down    - bounce an eport on the switch</span>
    <span class="c">####        - fabric_rec     - bounce an adjacent switch</span>
    <span class="c">####                           switchdisable ; sleep ; switchenable</span>
    <span class="c">####        - domain_id      - same domain id and principle switch has</span>
    <span class="c">####                           to change another id - must be 2 times</span>
    <span class="c">####                           in less than 1 minute - use local switch</span>
    <span class="c">####              a. get the list of switch id in the fabric - fabricshow</span>
    <span class="c">####              b. disable the switch</span>
    <span class="c">####              c. use configure to change the id to the same as another</span>
    <span class="c">####                 switch in the fabric</span>
    <span class="c">####              d. enable the switch -  the switch ID will change</span>
    <span class="c">####              e. repeat since it must be done 2 times in a minute</span>
    <span class="c">####                 </span>
    <span class="c">####        - fab_segment    - add a switch to the fabric with an</span>
    <span class="c">####                           incorrect fid from the SUT</span>
    <span class="c">####        - zone_change    - change to a zone and save the zone</span>
    <span class="c">####                           note that the rule is set to trigger hour</span>
    <span class="c">####                           since the rule is 3 zone changes per day</span>
    <span class="c">####        - fabric_login   - FLOGI  </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>

    <span class="n">fabric_state_policy</span> <span class="o">=</span> <span class="s">&quot;fabric_state_policy&quot;</span>
    
    <span class="n">e_p_down_rule</span>         <span class="o">=</span> <span class="s">&quot;sqa_fabric_state_EPORT_Down&quot;</span>
    <span class="n">fab_recon_rule</span>        <span class="o">=</span> <span class="s">&quot;sqa_fabric_Fab_config&quot;</span>
    <span class="n">domian_change_rule</span>    <span class="o">=</span> <span class="s">&quot;sqa_fabric_Domain_change&quot;</span>
    <span class="n">fab_segment_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_fabric_segment&quot;</span>
    <span class="n">zone_change_rule</span>      <span class="o">=</span> <span class="s">&quot;sqa_fabric_zone_chg&quot;</span>
    <span class="n">fabric_login_rule</span>     <span class="o">=</span> <span class="s">&quot;sqa_fabric_FLOGI&quot;</span>
    
    <span class="n">e_port_down_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_state_EPORT_Down </span><span class="se">\</span>
<span class="s">                           -group switch -monitor eport_down -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_reconfig_cmd</span>  <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_Fab_config  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor FAB_CFG -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">domain_id_change_cmd</span> <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_Domain_change  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor DID_CHG -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_segment_cmd</span>   <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_segment  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor fab_seg -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">zone_change_cmd</span>      <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_zone_chg  </span><span class="se">\</span>
<span class="s">                           -group switch -monitor zone_chg -timebase min </span><span class="se">\</span>
<span class="s">                           -value 0 -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>
    <span class="n">fabric_login_cmd</span>     <span class="o">=</span> <span class="s">&quot;mapsrule --create sqa_fabric_FLOGI  -group switch </span><span class="se">\</span>
<span class="s">                           -monitor FLOGI -timebase min -value 0 </span><span class="se">\</span>
<span class="s">                           -action email,raslog,snmp -op g </span><span class="se">\</span>
<span class="s">                           -policy fabric_state_policy&quot;</span>

    <span class="c">###########################################################################</span>
    <span class="c">####  list of commands</span>
    <span class="c">###########################################################################</span>
    <span class="n">cmd_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">e_port_down_cmd</span><span class="p">,</span> <span class="n">fabric_reconfig_cmd</span><span class="p">,</span> <span class="n">domain_id_change_cmd</span><span class="p">,</span>\
                <span class="n">fabric_segment_cmd</span><span class="p">,</span> <span class="n">zone_change_cmd</span><span class="p">,</span> <span class="n">fabric_login_cmd</span><span class="p">]</span>
    
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">#### setup the rules and policy for this test</span>
    <span class="c">###########################################################################</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --create </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fabric_state_policy</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmd_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fabric_state_policy</span><span class="p">)</span>
        
    <span class="c">#### setup the actions</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --actions RASLOG,SNMP,EMAIL,</span><span class="se">\</span>
<span class="s">                     SW_CRITICAL,SW_MARGINAL&quot;</span><span class="p">)</span>
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    <span class="c">###########################################################################</span>
    <span class="c">####  E-Port down event</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="n">eports</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">MY E-PORTS  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">eports</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">eports</span> <span class="o">==</span> <span class="p">[]:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;No E-Ports found&quot;</span><span class="p">)</span>
        <span class="c">####  check if switch is enabled or fail this part of the test ?</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchenable&quot;</span><span class="p">)</span>
        <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchshow&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the first port found for now </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">eports</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    
    
    <span class="c">#### for pizza box</span>
    
        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 3&quot;</span><span class="p">)</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 3&quot;</span><span class="p">)</span>
                
    <span class="c">############################################################################</span>
    <span class="c">#### fabric config event</span>
    <span class="c">####  disable all the ports on the target switch</span>
    <span class="c">####  when the ports are enabled the fabric will reconfigure</span>
    <span class="c">############################################################################</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 60&quot;</span><span class="p">)</span>
    
    <span class="c">############################################################################</span>
    <span class="c">####  DID conflict</span>
    <span class="c">####</span>
    <span class="c">############################################################################</span>

    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
    <span class="n">myzone_info</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">zone_info</span><span class="p">()</span>
    <span class="n">myzone</span> <span class="o">=</span> <span class="n">myzone_info</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">my_swid</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">switch_id</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fabric members and my switch ID&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">fabmems</span><span class="p">,</span>  <span class="n">my_swid</span> <span class="p">)</span>
    
    <span class="c">####  change the switch ID to one on the list in fabmems</span>
    <span class="k">if</span> <span class="n">my_swid</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">fabmems</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">new_swid</span> <span class="o">=</span> <span class="n">fabmems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_swid</span> <span class="o">=</span> <span class="n">fabmems</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c">#usrn = &quot;[\r\n]+[:_\w]+(root&gt;)&quot;</span>
    <span class="c">#usrn = usrn.encode()</span>
    <span class="n">ctrl_c</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\x03</span><span class="s">&quot;</span>  <span class="c">### ctrl-c  </span>
    <span class="n">ctrl_d</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\x04</span><span class="s">&quot;</span>  <span class="c">### ctrl-d </span>
    <span class="n">reg_ex_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">b</span><span class="s">&quot;(no])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(\d+])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(on])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;root&gt;&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;affected&quot;</span><span class="p">]</span>
    <span class="n">reg_ex_list</span> <span class="o">=</span> <span class="p">[</span> <span class="n">b</span><span class="s">&quot;(no])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(\d+])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(on])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;(off])&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;:root&gt; &quot;</span> <span class="p">]</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchdisable&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;configure&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="n">new_swid</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="k">while</span> <span class="s">&#39;root&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmdrtn</span><span class="p">:</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
     
    
    <span class="c">#cmdrtn = anturlar.fos_cmd_regex(&#39;\x04&#39;, reg_ex_list,9) ### send ctrl-c  \003 or ctrl-d \004</span>
    <span class="c">#### sending the ctrl-d command i believe is seen as EOF and does not continue</span>
    <span class="c">#### with the fos_cmd_regex command</span>
     
  
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;version&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchenable&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 30&quot;</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchshow&quot;</span><span class="p">)</span>
    <span class="c">############################################################################</span>
    <span class="c">#### fabric_segment</span>
    <span class="c">####   attach a switch to the fabric that has a different FID</span>
    <span class="c">####   - find the fabric member and confirm one is attached to the switch</span>
    <span class="c">####   - confirm there are at least 2 fid on the attached switch</span>
    <span class="c">####   - move one of the eports to another fid</span>
    <span class="c">####   - enable the port</span>
    <span class="c">####   - move the port back to original fid</span>
    <span class="c">############################################################################</span>
    <span class="c">#moveport = eports[0][0]</span>
    <span class="n">moveport</span> <span class="o">=</span> <span class="n">eports</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">ls_list</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
    <span class="n">fid_to_move_port</span> <span class="o">=</span> <span class="mi">88</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">()</span>
    
    <span class="c">#reg_ex_list    = [ b&quot;.+no]&quot;, b&quot;.+\d+]&quot;, b&quot;.+n]?:&quot;, b&quot;usrn&quot; ]</span>
    
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;lscfg --config </span><span class="si">%s</span><span class="s"> -port </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">fid_to_move_port</span><span class="p">,</span> <span class="n">moveport</span><span class="p">)</span> <span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fid_to_move_port</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">moveport</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;lscfg --config </span><span class="si">%s</span><span class="s"> -port </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">fid_now</span><span class="p">,</span> <span class="n">moveport</span><span class="p">),</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd_regex</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="n">reg_ex_list</span><span class="p">)</span>
    
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">fid_now</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">moveport</span><span class="p">)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">JustSleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    
    
    <span class="c">############################################################################</span>
    <span class="c">#### add and remove a zone</span>
    <span class="c">############################################################################</span>
    <span class="n">z</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&#39;zonecreate test_maps, &quot;124,52;86,31&quot;&#39;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgadd </span><span class="si">%s</span><span class="s">, test_maps&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo yes | cfgenable </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgshow&quot;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 60&quot;</span><span class="p">)</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;cfgremove </span><span class="si">%s</span><span class="s">, test_maps&quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;zonedelete test_maps&quot;</span><span class="p">)</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo &#39;yes&#39; | cfgenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">myzone</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Fabric members&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">fabmems</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;zonestuff&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">myzone</span><span class="p">)</span>
    
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 60&quot;</span><span class="p">)</span>
    
    <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">check for maps messages&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;wait here for the user to finish&quot;</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the db command to poke for one test, </span><span class="se">\</span>
<span class="s">          use the finisar for confirmation&quot;</span><span class="p">)</span>
    
    
    
    
    
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################   </span>
   </div>
<div class="viewcode-block" id="tc_01_01_06_07"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_06_07">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_06_07</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.06_07</span>
<span class="sd">        Title:      MAPS Data Base Management</span>
<span class="sd">        Feature:    MAPS</span>
<span class="sd">        Objective:  Verify </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1.</span>
    <span class="c">####    2.  add error counts to each rule in the historical data section</span>
    <span class="c">####    3.  </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    <span class="c">#fabmems = anturlar.fabric_members()</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable dflt_aggressive_policy&quot;</span><span class="p">)</span>
    <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show all&quot;</span><span class="p">)</span>
    <span class="c">#### </span>
    
    

   
   
    </div>
<div class="viewcode-block" id="tc_01_01_template"><a class="viewcode-back" href="../index.html#fvtc_0.tc_01_01_template">[docs]</a><span class="k">def</span> <span class="nf">tc_01_01_template</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test Case   25.01.01.template</span>
<span class="sd">        Title:</span>
<span class="sd">        Feature:    Predfined Group Management</span>
<span class="sd">        Objective:  Verify the predefined groups including only the elements</span>
<span class="sd">        defined for each group </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">###########################################################################</span>
    <span class="c">####  todo -</span>
    <span class="c">####    1.   ??</span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">####</span>
    <span class="c">#### Steps:</span>
    <span class="c">####    1. </span>
    <span class="c">####</span>
    <span class="c">###########################################################################</span>
    <span class="c">#### start testing</span>
    <span class="c">####</span>
    <span class="c">#### create the object and clear stats</span>
    <span class="n">en</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="c">####</span>
    <span class="c">#fabmems = anturlar.fabric_members()</span>
    

    <span class="n">fab_stuff</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">(</span><span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">())</span>
    <span class="n">fabmems</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">fabric_members</span><span class="p">()</span>
    <span class="n">myzone</span> <span class="o">=</span> <span class="n">fab_stuff</span><span class="o">.</span><span class="n">zone_info</span><span class="p">()</span>
    
    <span class="n">eports</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">e_ports</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">MY E-PORTS  </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">eports</span> <span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;use the first port found for now </span><span class="si">%s</span><span class="s">  &quot;</span> <span class="o">%</span> <span class="n">eports</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="c">#### for pizza box</span>
    
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">en</span><span class="o">.</span><span class="n">currentFID</span><span class="p">()</span>
    
    
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">3600</span><span class="p">:</span>
        
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span> 
        <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsdb --show&quot;</span><span class="p">)</span>
        <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 5&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;portenable %s &quot; % p[0])</span>
            <span class="c">#cmdrtn = anturlar.fos_cmd(&quot;sleep 10&quot;)</span>
        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eports</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">cmdrtn</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;sleep 10&quot;</span><span class="p">)</span>
    
    
    
    <span class="k">return</span><span class="p">()</span>
<span class="c">###############################################################################   </span>
    </div>
<div class="viewcode-block" id="change_fid"><a class="viewcode-back" href="../index.html#fvtc_0.change_fid">[docs]</a><span class="k">def</span> <span class="nf">change_fid</span><span class="p">(</span><span class="n">fid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        change a fid on a switch</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">fid</span><span class="p">)</span>
    
</div>
<div class="viewcode-block" id="test_case_flow"><a class="viewcode-back" href="../index.html#fvtc_0.test_case_flow">[docs]</a><span class="k">def</span> <span class="nf">test_case_flow</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the current flows on the SUT</span>
<span class="sd">        remove the flows</span>
<span class="sd">        create the same flows</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="test_case_config"><a class="viewcode-back" href="../index.html#fvtc_0.test_case_config">[docs]</a><span class="k">def</span> <span class="nf">test_case_config</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get some information from the switch so config can be</span>
<span class="sd">        put back to the switch</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="genAll"><a class="viewcode-back" href="../index.html#fvtc_0.genAll">[docs]</a><span class="k">def</span> <span class="nf">genAll</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    turn all ports to SIM ports and enable Flow genALL sys test</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">#### send a fos command to configure</span>
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --control -portidmode slotport &quot;</span><span class="p">)</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>

    <span class="n">si_maps</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">maps</span><span class="p">()</span>
    <span class="n">si_maps_sim</span> <span class="o">=</span> <span class="n">si_maps</span><span class="o">.</span><span class="n">toggle_all</span><span class="p">(</span><span class="s">&quot;off&quot;</span><span class="p">)</span>
    
    <span class="n">si_maps_gen</span> <span class="o">=</span> <span class="n">si_maps</span><span class="o">.</span><span class="n">genAll</span><span class="p">(</span><span class="s">&quot;on&quot;</span><span class="p">)</span>
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portcfgshow&quot;</span><span class="p">)</span>
    
    <span class="n">si_maps_sim</span> <span class="o">=</span> <span class="n">si_maps</span><span class="o">.</span><span class="n">toggle_all</span><span class="p">(</span><span class="s">&quot;on&quot;</span><span class="p">)</span>
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portcfgshow&quot;</span><span class="p">)</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>

    <span class="n">si_maps_gen</span> <span class="o">=</span> <span class="n">si_maps</span><span class="o">.</span><span class="n">genAll</span><span class="p">(</span><span class="s">&quot;on&quot;</span><span class="p">)</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="remove_sim"><a class="viewcode-back" href="../index.html#fvtc_0.remove_sim">[docs]</a><span class="k">def</span> <span class="nf">remove_sim</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    remove any SIM ports enabled on the switch</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ports_disable"><a class="viewcode-back" href="../index.html#fvtc_0.ports_disable">[docs]</a><span class="k">def</span> <span class="nf">ports_disable</span><span class="p">(</span><span class="n">portlist</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     port disable for the number of time passed in</span>
<span class="sd">     should be no reason to do more than one time</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">portlist</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">myp</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">portlist</span> <span class="o">=</span> <span class="n">myp</span><span class="o">.</span><span class="n">all_ports</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">portlist</span><span class="p">:</span>
            <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="n">a</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ports_enable"><a class="viewcode-back" href="../index.html#fvtc_0.ports_enable">[docs]</a><span class="k">def</span> <span class="nf">ports_enable</span><span class="p">(</span><span class="n">portlist</span><span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     port enable for the number of time passed in</span>
<span class="sd">     there should be no reason for time to be more than 1</span>
<span class="sd">     </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">if</span> <span class="n">portlist</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">myp</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">portlist</span> <span class="o">=</span> <span class="n">myp</span><span class="o">.</span><span class="n">all_ports</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">portlist</span><span class="p">:</span>
            <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable &quot;</span><span class="o">+</span><span class="n">a</span><span class="p">)</span>
            </div>
<div class="viewcode-block" id="ports_toggle"><a class="viewcode-back" href="../index.html#fvtc_0.ports_toggle">[docs]</a><span class="k">def</span> <span class="nf">ports_toggle</span><span class="p">(</span><span class="n">portlist</span><span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      port disable / port enable for the number of times passed in</span>
<span class="sd">      </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">####  this is for pizza box</span>
    <span class="c">####   need to add chassis</span>
    <span class="c">####</span>
    
    <span class="k">if</span> <span class="n">portlist</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
        <span class="n">myp</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">portlist</span> <span class="o">=</span> <span class="n">myp</span><span class="o">.</span><span class="n">all_ports</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">portlist</span><span class="p">:</span>
            <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portdisable </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="n">a</span><span class="p">)</span>
            
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="n">wait</span><span class="p">)</span>
         
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">portlist</span><span class="p">:</span>
            <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;portenable </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="n">a</span><span class="p">)</span>
            <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="n">wait</span><span class="p">)</span>
    
    </div>
<div class="viewcode-block" id="configdl"><a class="viewcode-back" href="../index.html#fvtc_0.configdl">[docs]</a><span class="k">def</span> <span class="nf">configdl</span><span class="p">(</span><span class="n">clear</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        capture any information for testing of the configdownload </span>
<span class="sd">        - including mapspolicy --show</span>
<span class="sd">                    mapsconfig --show</span>
<span class="sd">                    flow --show</span>
<span class="sd">                    flow --show -ctrlcfg</span>
<span class="sd">                    relayconfig --show</span>
<span class="sd">                    bottleneckmon --status</span>
<span class="sd">                    </span>
<span class="sd">        then perform configupload</span>
<span class="sd">        </span>
<span class="sd">        config upload </span>
<span class="sd">        </span>
<span class="sd">        Nimbus_______________Odin_86__:FID25:root&gt; configupload</span>
<span class="sd">        Protocol (scp, ftp, sftp, local) [ftp]: ftp </span>
<span class="sd">        Server Name or IP Address [host]: 10.38.38.138</span>
<span class="sd">        User Name [user]: ftp2</span>
<span class="sd">        Path/Filename [&lt;home dir&gt;/config.txt]: Odin_configupload.txt</span>
<span class="sd">        Section (all|chassis|FID# [all]): all</span>
<span class="sd">        Password:</span>
<span class="sd">        </span>
<span class="sd">        or</span>
<span class="sd">        </span>
<span class="sd">        configdownload [- all ] [-p ftp | -ftp] [&quot;host&quot;,&quot;user&quot;,&quot;path&quot;[,&quot;passwd&quot;]]</span>
<span class="sd">        configdownload [- all ] [-p scp | -scp ] [&quot;host&quot;,&quot;user&quot;,&quot;path&quot;]</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">#### capture maps config all FIDS</span>
    <span class="c">#### capture flow config all FIDS</span>
    <span class="c">####</span>
    
    <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
    <span class="n">sw_info_ls</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls_now</span><span class="p">()</span>
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
    <span class="n">sw_ip</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
     
    
    <span class="n">f</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s%s%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="s">&quot;logs/Configupload_test_case_file&quot;</span><span class="p">,</span><span class="n">sw_ip</span><span class="p">,</span><span class="s">&quot;.txt&quot;</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">clear</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;w+b&#39;</span><span class="p">)</span>  <span class="c">#### reset the log file</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;a+b&#39;</span><span class="p">)</span>  <span class="c">#### open for appending</span>
        
    <span class="n">header</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s%s%s%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">CONFIGUPLOAD CAPTURE FILE </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&quot;  sw_info ipaddr  &quot;</span><span class="p">,</span><span class="n">sw_ip</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">==============================</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>  
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="n">ff</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;a+b&#39;</span><span class="p">)</span>  <span class="c">#### open the log file for writing</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sw_info_ls</span><span class="p">))</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sw_info_ls</span><span class="p">:</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext &quot;</span><span class="o">+</span><span class="n">i</span><span class="p">)</span>   
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsconfig --show&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;LOGICAL SWITCH :: &quot;</span> <span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">MAPS CONFIG::&quot;</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show -ctrlcfg&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;relayconfig --show&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;bottleneckmon --status&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cons_out</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="o">*</span><span class="mi">80</span><span class="o">+</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">fid_now</span><span class="p">)</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
    <span class="n">configdown_cmd</span> <span class="o">=</span> <span class="s">&quot;configupload -all -p ftp 10.38.38.138,ftp2,configupload_test.txt,ftp&quot;</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span> <span class="p">(</span><span class="n">configdown_cmd</span><span class="p">)</span>
    
 </div>
<div class="viewcode-block" id="firmwaredownload"><a class="viewcode-back" href="../index.html#fvtc_0.firmwaredownload">[docs]</a><span class="k">def</span> <span class="nf">firmwaredownload</span><span class="p">(</span><span class="n">frmdwn</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        use anturlar firmwaredownload to do testing for update to</span>
<span class="sd">        newest code</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">doFirmwareDownload</span><span class="p">(</span><span class="n">frmdwn</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="clearstats"><a class="viewcode-back" href="../index.html#fvtc_0.clearstats">[docs]</a><span class="k">def</span> <span class="nf">clearstats</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        clear all stats using the clear stats procedure in anturlar.py</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">cs</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">clear_stats</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="flow_all_switch"><a class="viewcode-back" href="../index.html#fvtc_0.flow_all_switch">[docs]</a><span class="k">def</span> <span class="nf">flow_all_switch</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        capture all the flow --show information</span>
<span class="sd">        this can go to anturlar in the FlowV class</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    </div>
<div class="viewcode-block" id="add_remove_flow"><a class="viewcode-back" href="../index.html#fvtc_0.add_remove_flow">[docs]</a><span class="k">def</span> <span class="nf">add_remove_flow</span><span class="p">(</span><span class="n">repeat</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="n">scr</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">ingrp</span><span class="p">,</span> <span class="n">egrp</span><span class="p">,</span> <span class="n">feat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add and remove a flow from the current switch and FID</span>
<span class="sd">        </span>
<span class="sd">        --should add find one of the ports on the switch and add the flow to</span>
<span class="sd">        that port -</span>
<span class="sd">        --discover which port is the same as the scrdev or dstdev and add</span>
<span class="sd">        -- since this is a add and remove the flow test case the lun, ftype and bidir</span>
<span class="sd">        could be random</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">####cmd = &quot;supportsave -n -u %s -p %s -h %s -l ftp -d %s&quot; % (variables, variables)</span>
    <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;flow --create </span><span class="si">%s</span><span class="s"> -fea </span><span class="si">%s</span><span class="s"> -srcdev </span><span class="si">%s</span><span class="s"> -dstdev </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">fname</span><span class="p">,</span><span class="n">feat</span><span class="p">,</span><span class="n">scr</span><span class="p">,</span><span class="n">dst</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">ingrp</span> <span class="o">!=</span> <span class="s">&quot;na&quot;</span><span class="p">:</span>
        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -ingrport </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">cmd_create</span><span class="p">,</span> <span class="n">ingrp</span> <span class="p">)</span>
    
    <span class="k">if</span> <span class="n">egrp</span> <span class="o">!=</span> <span class="s">&quot;na&quot;</span><span class="p">:</span>
        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -egrport </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">cmd_create</span><span class="p">,</span> <span class="n">egrp</span> <span class="p">)</span>
        
    <span class="n">cmd_delete</span> <span class="o">=</span> <span class="s">&quot;flow --delete </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fname</span><span class="p">)</span>
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>
    
    <span class="k">while</span> <span class="n">repeat</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c">#print(repeat,&quot;\n&quot;)</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>
        
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">3600</span><span class="p">)</span>
        
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_delete</span><span class="p">)</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --show&quot;</span><span class="p">)</span>
        
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">cons_out</span><span class="p">)</span>
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>
        
        <span class="n">repeat</span> <span class="o">=</span> <span class="n">repeat</span> <span class="o">-</span> <span class="mi">1</span>
        
    <span class="k">return</span> <span class="mi">0</span> 

    </div>
<div class="viewcode-block" id="add_flow"><a class="viewcode-back" href="../index.html#fvtc_0.add_flow">[docs]</a><span class="k">def</span> <span class="nf">add_flow</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">scr</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">ingrp</span><span class="p">,</span> <span class="n">egrp</span><span class="p">,</span> <span class="n">feat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add a flow from the current switch and FID</span>
<span class="sd">        this will add with the --noactivate option so that it is always added</span>
<span class="sd">        </span>
<span class="sd">        --should add find one of the ports on the switch and add the flow to</span>
<span class="sd">        that port -</span>
<span class="sd">        --discover which port is the same as the scrdev or dstdev and add</span>
<span class="sd">        -- since this is a add and remove the flow test case the lun, ftype and bidir</span>
<span class="sd">        could be random</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">####cmd = &quot;supportsave -n -u %s -p %s -h %s -l ftp -d %s&quot; % (variables, variables)</span>
    <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;flow --create </span><span class="si">%s</span><span class="s"> -fea </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">fname</span><span class="p">,</span><span class="n">feat</span><span class="p">)</span>
    
    
    <span class="k">if</span> <span class="n">scr</span> <span class="o">!=</span> <span class="s">&quot;b&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">scr</span> <span class="o">==</span> <span class="s">&quot;learn&quot;</span><span class="p">:</span>
            <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -srcdev &#39;*&#39; &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>    
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -srcdev </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd_create</span><span class="p">,</span> <span class="n">scr</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">dst</span> <span class="o">!=</span> <span class="s">&quot;b&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">dst</span> <span class="o">==</span> <span class="s">&quot;learn&quot;</span><span class="p">:</span>
            <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -dstdev &#39;*&#39; &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>    
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -dstdev </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd_create</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">ingrp</span> <span class="o">!=</span> <span class="s">&quot;na&quot;</span><span class="p">:</span>
        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -ingrport </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">cmd_create</span><span class="p">,</span> <span class="n">ingrp</span> <span class="p">)</span>
    
    <span class="k">if</span> <span class="n">egrp</span> <span class="o">!=</span> <span class="s">&quot;na&quot;</span><span class="p">:</span>
        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -egrport </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span> <span class="n">cmd_create</span><span class="p">,</span> <span class="n">egrp</span> <span class="p">)</span>
        
    <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> -noactivate -</span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd_create</span><span class="p">,</span> <span class="s">&quot;bidir&quot;</span><span class="p">)</span>
    
    
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
    
    <span class="c">#while repeat &gt; 0:</span>
    <span class="c">#    print(&quot;repeat\n&quot;)</span>
    <span class="c">#    repeat = repeat - 1 </span>
    
    <span class="k">return</span> <span class="mi">0</span> 
    
    </div>
<span class="k">def</span> <span class="nf">add_flows_count</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">scr</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">ingrp</span><span class="p">,</span> <span class="n">egrp</span><span class="p">,</span> <span class="n">feat</span><span class="p">,</span> <span class="n">cnt</span><span class="p">):</span>
    
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="n">cnt</span><span class="p">:</span>
        <span class="n">fn</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">_</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>
        <span class="n">add_flow</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">scr</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">ingrp</span><span class="p">,</span> <span class="n">egrp</span><span class="p">,</span> <span class="n">feat</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="mi">0</span>
 
    
<div class="viewcode-block" id="delete_flow"><a class="viewcode-back" href="../index.html#fvtc_0.delete_flow">[docs]</a><span class="k">def</span> <span class="nf">delete_flow</span><span class="p">(</span> <span class="n">name</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        delete flow vision flows from a switch</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s">&quot;all&quot;</span><span class="p">:</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo Y | flow --delete all &quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --delete </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>
    
    </div>
<div class="viewcode-block" id="mapsenable"><a class="viewcode-back" href="../index.html#fvtc_0.mapsenable">[docs]</a><span class="k">def</span> <span class="nf">mapsenable</span><span class="p">(</span> <span class="n">pol</span><span class="p">,</span> <span class="n">al</span><span class="p">,</span> <span class="n">ml</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        enable MAPS with policy         pol</span>
<span class="sd">                         actions list   al</span>
<span class="sd">                         email list     ml</span>
<span class="sd">                         </span>
<span class="sd">        -- this function will enable MAPS only if you want to</span>
<span class="sd">        change the policy use mapspolicy()</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">m</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">Maps</span><span class="p">()</span>
    <span class="n">m</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="n">pol</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">actions</span><span class="p">(</span><span class="n">al</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">email_cfg</span><span class="p">(</span><span class="n">ml</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="mi">0</span>
    
</div>
<div class="viewcode-block" id="enable_flows"><a class="viewcode-back" href="../index.html#fvtc_0.enable_flows">[docs]</a><span class="k">def</span> <span class="nf">enable_flows</span><span class="p">(</span> <span class="n">ones</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        enable all fea of flows of current switch</span>
<span class="sd">        - get the flow names</span>
<span class="sd">        - enable the flows with all features</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FlowV</span><span class="p">()</span>
    <span class="n">the_names</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">flow_names</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">the_names</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">the_names</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">&quot;sys_gen_all_simports&quot;</span> <span class="ow">in</span> <span class="n">k</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;not enabling this one&quot;</span> <span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmd_create</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;flow --activate </span><span class="si">%s</span><span class="s"> -fea all&quot;</span> <span class="o">%</span> <span class="n">k</span> <span class="p">)</span>   
            <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>
            
    </div>
<div class="viewcode-block" id="check_gen_all_stats"><a class="viewcode-back" href="../index.html#fvtc_0.check_gen_all_stats">[docs]</a><span class="k">def</span> <span class="nf">check_gen_all_stats</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        start the gen_all SIM ports test and capture the number of runs</span>
<span class="sd">        the percent of run, the frames generated brom IngrPort and frames</span>
<span class="sd">        generated to EgrPort</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
    <span class="n">sw_info_ls</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls_now</span><span class="p">()</span>
    <span class="n">sw_ip</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    
    <span class="n">fv</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FlowV</span><span class="p">()</span>
    <span class="n">fv</span><span class="o">.</span><span class="n">genAll</span><span class="p">(</span><span class="s">&quot;on&quot;</span><span class="p">)</span>
    
    <span class="n">f</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s%s%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="s">&quot;logs/Gen_all_stats_test_case_file&quot;</span><span class="p">,</span><span class="n">sw_ip</span><span class="p">,</span><span class="s">&quot;.txt&quot;</span><span class="p">)</span>
    <span class="n">clear</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">clear</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;w+b&#39;</span><span class="p">)</span>  <span class="c">#### reset the log file</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="n">liabhar</span><span class="o">.</span><span class="n">FileStuff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;a+b&#39;</span><span class="p">)</span>  <span class="c">#### open for appending</span>
            
    <span class="n">st</span> <span class="o">=</span> <span class="s">&quot;Runs  Percent  Ingrport  Egrport </span><span class="se">\n</span><span class="s">&quot;</span>        
    <span class="n">header</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s%s%s%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">GEN ALL CAPTURE FILE </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&quot;  sw_info ipaddr  &quot;</span><span class="p">,</span><span class="n">sw_ip</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">==============================</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>  
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
    <span class="n">d</span><span class="o">=</span><span class="mi">0</span>
    
    <span class="k">while</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">fv</span><span class="o">.</span><span class="n">genAllStats</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;run number  </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">d</span><span class="p">)</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
        <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="n">ff</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        
 </div>
<span class="k">def</span> <span class="nf">randomList</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">b</span>
    
<div class="viewcode-block" id="flow_to_each_SIM"><a class="viewcode-back" href="../index.html#fvtc_0.flow_to_each_SIM">[docs]</a><span class="k">def</span> <span class="nf">flow_to_each_SIM</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        find all the SIM ports in the fabric and create a flow</span>
<span class="sd">        from each SIM port to all the Other SIM ports</span>
<span class="sd">          Since this test case finds all the switches in the</span>
<span class="sd">          fabric it might not be good to run in fabric mode</span>
<span class="sd">        steps</span>
<span class="sd">         1. get the ip list of switches in the fabric</span>
<span class="sd">         2. for each switch get a list of SIM ports</span>
<span class="sd">         3. create a flow for each SIMport to all other SIM ports</span>
<span class="sd">         4. start all of the flows if not started</span>
<span class="sd">         5. if there are only 2 switches only send to the other switch</span>
<span class="sd">            if there are more than 2 switches then send to a random port which</span>
<span class="sd">            could also be on the same switch</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls_now</span><span class="p">()</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
    <span class="c">#sw_ip = sw_info.ipaddress()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">FabricInfo</span><span class="p">()</span>
    <span class="n">ip_list</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">ipv4_list</span><span class="p">()</span>
    <span class="n">ip_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ip_list</span><span class="p">)</span>
    <span class="n">ip_c</span> <span class="o">=</span> <span class="n">ip_count</span>
    
    <span class="n">combine_port_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">list_for_j</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">list_for_i</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">temp_list</span> <span class="o">=</span> <span class="p">[]</span>
        
    <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">ip_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="s">&#39;root&#39;</span><span class="p">,</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fid_now</span><span class="p">))</span>
        <span class="n">ports</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">sim_ports</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="c">#print(&quot;\n\n\n&quot;,ports, &quot;\n\n\n&quot;)</span>
        <span class="c">#combine_port_list.append(ports)</span>
        <span class="n">combine_port_list</span> <span class="o">=</span> <span class="n">combine_port_list</span> <span class="o">+</span> <span class="n">ports</span>
        <span class="k">if</span> <span class="n">ip_c</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">list_for_i</span> <span class="o">=</span> <span class="n">ports</span>
            <span class="c">#print(&quot;\n\n\nI list \n&quot;)</span>
            <span class="c">#print(list_for_i)</span>
            <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">ip_c</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">ip_c</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">list_for_j</span> <span class="o">=</span> <span class="n">ports</span>
            <span class="c">#print(&quot;\n\n\nJ list \n&quot;)</span>
            <span class="c">#print(list_for_j)</span>
            <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            
    <span class="n">flow_name_base</span> <span class="o">=</span> <span class="s">&quot;Send_to_each_&quot;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
     
    <span class="c">#### need index address for simport </span>
    <span class="c">#### now create a flow to each simport</span>
    <span class="c">#print(combine_port_list)</span>
    
    <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">ip_list</span><span class="p">:</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="s">&#39;root&#39;</span><span class="p">,</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;setcontext </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fid_now</span><span class="p">))</span>
        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;flow --deact sys_gen_all_simports -fea all&quot;</span><span class="p">)</span>  
            
            
        <span class="c">#### randomize the list</span>
        <span class="n">combine_port_list</span> <span class="o">=</span> <span class="n">randomList</span><span class="p">(</span><span class="n">combine_port_list</span><span class="p">)</span>
        <span class="n">j_port_list</span> <span class="o">=</span> <span class="n">combine_port_list</span>
        <span class="c">#print(&quot;\n\n\nPORT LIST RANDOMIZED  \n&quot;, combine_port_list)</span>
        <span class="c">#print(&quot;\n\n\nNEW LIST RANDOMIZED  \n&quot;, new_combine_port_list)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ip_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c">#print(&quot;\n\n\nyes only two switches\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&quot;)</span>
            <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">list_for_i</span><span class="p">)</span>
            <span class="c">#print(&quot;start I list &quot;)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_for_i</span><span class="p">:</span>
                <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">list_for_j</span><span class="p">)</span>
                <span class="n">generate_port</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">generate_addr</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="c">#print(&quot;\n\ngenerator port and address  %s  %s  \n\n&quot; %(generate_port, generate_addr))</span>
                
                <span class="c">#### this loops on the same list of combined port list</span>
                <span class="c">#### one idea was to select a random element from the list each time</span>
                <span class="c">####  </span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">list_for_j</span><span class="p">:</span> 
                    <span class="n">target_port</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">target_addr</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="c">#print(&quot;\n\ntarget port and address  %s  %s \n\n&quot; %( target_port, target_addr))</span>
                    
                    <span class="k">if</span> <span class="n">generate_port</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">target_port</span><span class="p">:</span>
                        <span class="n">flow_name</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;</span><span class="si">%s%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flow_name_base</span><span class="p">,</span><span class="n">count</span><span class="p">))</span>
                        <span class="n">count</span> <span class="o">+=</span><span class="mi">1</span>
                        <span class="c">#print(flow_name, &quot;   &quot; , generate_port,&quot; &quot;, generate_addr, &quot;to this port  &quot; ,target_port,&quot; &quot;, target_addr)</span>
                        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;flow --create </span><span class="si">%s</span><span class="s"> -srcdev </span><span class="si">%s</span><span class="s"> -dstdev </span><span class="si">%s</span><span class="s"> -ingrport </span><span class="si">%s</span><span class="s"> -fea gen,mon&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flow_name</span><span class="p">,</span> <span class="n">generate_addr</span><span class="p">,</span><span class="n">target_addr</span><span class="p">,</span> <span class="n">generate_port</span><span class="p">)</span>
                        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>   
                        <span class="k">if</span> <span class="s">&quot;maximum limit&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;Port does not&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;PID or WWN do not&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;Exceeds maximum flow limit&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                            <span class="k">break</span>
            <span class="n">temp_list</span> <span class="o">=</span> <span class="n">list_for_i</span>
            <span class="n">list_for_i</span> <span class="o">=</span> <span class="n">list_for_j</span>
            <span class="n">list_for_j</span> <span class="o">=</span> <span class="n">temp_list</span>
            
        <span class="k">else</span><span class="p">:</span>    
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">combine_port_list</span><span class="p">:</span>
                <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">j_port_list</span><span class="p">)</span>
                <span class="n">generate_port</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">generate_addr</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="c">#### this loops on the same list of combined port list</span>
                <span class="c">#### one idea was to select a random element from the list each time</span>
                <span class="c">####  </span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">j_port_list</span><span class="p">:</span> 
                    <span class="n">target_port</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">target_addr</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">generate_port</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">target_port</span><span class="p">:</span>
                        <span class="n">flow_name</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;</span><span class="si">%s%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flow_name_base</span><span class="p">,</span><span class="n">count</span><span class="p">))</span>
                        <span class="n">count</span> <span class="o">+=</span><span class="mi">1</span>
                        <span class="k">print</span><span class="p">(</span><span class="n">flow_name</span><span class="p">,</span> <span class="s">&quot;   &quot;</span> <span class="p">,</span> <span class="n">generate_port</span><span class="p">,</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">generate_addr</span><span class="p">,</span> <span class="s">&quot;to this port  &quot;</span> <span class="p">,</span><span class="n">target_port</span><span class="p">,</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">target_addr</span><span class="p">)</span>
                        <span class="n">cmd_create</span> <span class="o">=</span> <span class="s">&quot;flow --create </span><span class="si">%s</span><span class="s"> -srcdev </span><span class="si">%s</span><span class="s"> -dstdev </span><span class="si">%s</span><span class="s"> -ingrport </span><span class="si">%s</span><span class="s"> -fea gen,mon&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flow_name</span><span class="p">,</span> <span class="n">generate_addr</span><span class="p">,</span><span class="n">target_addr</span><span class="p">,</span> <span class="n">generate_port</span><span class="p">)</span>
                        <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="n">cmd_create</span><span class="p">)</span>   
                        <span class="k">if</span> <span class="s">&quot;maximum limit&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;Port does not&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;PID or WWN do not&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="k">if</span> <span class="s">&quot;Exceeds maximum flow limit&quot;</span> <span class="ow">in</span> <span class="n">cons_out</span><span class="p">:</span>
                            <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                            <span class="k">break</span>
    
    </div>
<div class="viewcode-block" id="ha_failover"><a class="viewcode-back" href="../index.html#fvtc_0.ha_failover">[docs]</a><span class="k">def</span> <span class="nf">ha_failover</span><span class="p">(</span> <span class="n">times</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        do HA failover on directors</span>
<span class="sd">        do hareboot on pizza box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">#### steps</span>
    <span class="c">####  1. Determine Pizza box or Director</span>
    <span class="c">####  2. save username and password</span>
    <span class="c">####  3. HA Failover </span>
    <span class="c">####  4. wait some time</span>
    <span class="c">####  5. reconnect</span>
    <span class="c">####  6. </span>
    <span class="c">####   </span>
    <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls_now</span><span class="p">()</span>
    <span class="n">ip_addr</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    <span class="n">go_or_not</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">synchronized</span><span class="p">()</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s">&#39;root&#39;</span>
    <span class="n">pwrd</span> <span class="o">=</span> <span class="s">&#39;password&#39;</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">new_connect</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c">####  add error checking here</span>
    <span class="c">####   the first step is to get original data before starting the test</span>
    <span class="c">#print(&quot;\n\noutside the while loop the go or not is equal to %s  &quot; % go_or_not)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    
    
    
    <span class="k">while</span> <span class="n">new_connect</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Starting Failover number </span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span><span class="n">counter</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            
            <span class="k">while</span> <span class="n">times</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">ip_addr</span><span class="p">,</span><span class="s">&#39;root&#39;</span><span class="p">,</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
                <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
                <span class="k">while</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">synchronized</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">False</span><span class="p">:</span>
                    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
                    <span class="c">#print(&quot;\n\n&quot;)</span>
                    <span class="c">#print(&quot;@&quot;*30)</span>
                    <span class="c">#print(&quot;\nwaiting for CPs to sync\n&quot;)</span>
                    <span class="c">#print(&quot;not in sync\n&quot;)</span>
                    <span class="c">#print(&quot;@&quot;*30)</span>
                    <span class="c">#print(&quot;@&quot;*30)</span>
                    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
                                
                <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo Y | hafailover&quot;</span><span class="p">)</span>
                <span class="c">####  add error checking here</span>
                <span class="c">####   get the same data as before the while loop and compare</span>
                <span class="c">#print(&quot;\n\ninside the while loop the go or not is equal to %s  &quot; % go_or_not)</span>
                <span class="n">times</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="c">#print(&quot;\n\nwait here  %s\n\n&quot; % times)</span>
                <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        
        <span class="k">except</span><span class="p">:</span>
        <span class="c">#except SocketError as e:</span>
            <span class="c">#if e.errno != errno.ECONNRESET:</span>
                <span class="c">#print(&quot;\n\n\nCONNECTION ERROR TRYING TO RECONNECT\n\n\n&quot;)</span>
                <span class="c">#raise </span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;========================&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;Telnet was disconnected &quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;Attempting to reconnect shortly </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;========================&quot;</span><span class="p">)</span>
            <span class="c">#pass</span>
            <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">times</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_connect</span> <span class="o">=</span> <span class="bp">False</span>   
     
     
    </div>
<div class="viewcode-block" id="ha_failover_check_adjacent"><a class="viewcode-back" href="../index.html#fvtc_0.ha_failover_check_adjacent">[docs]</a><span class="k">def</span> <span class="nf">ha_failover_check_adjacent</span><span class="p">(</span> <span class="n">adjacent_ipaddr</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        do HA failover on directors</span>
<span class="sd">        do hareboot on pizza box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">#### steps</span>
    <span class="c">####  1. Determine Pizza box or Director</span>
    <span class="c">####  2. save username and password</span>
    <span class="c">####  3. HA Failover </span>
    <span class="c">####  4. wait some time</span>
    <span class="c">####  5. reconnect</span>
    <span class="c">####  6. </span>
    <span class="c">####   </span>
    <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
    <span class="n">fid_now</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ls_now</span><span class="p">()</span>
    <span class="n">ip_addr</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">ipaddress</span><span class="p">()</span>
    <span class="n">go_or_not</span> <span class="o">=</span> <span class="n">sw_info</span><span class="o">.</span><span class="n">synchronized</span><span class="p">()</span>
    <span class="n">cons_out</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s">&#39;root&#39;</span>
    <span class="n">pwrd</span> <span class="o">=</span> <span class="s">&#39;fibranne&#39;</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">new_connect</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c">####  add error checking here</span>
    <span class="c">####   the first step is to get original data before starting the test</span>
    <span class="c">#print(&quot;\n\noutside the while loop the go or not is equal to %s  &quot; % go_or_not)</span>
    <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    
    
    
    <span class="k">while</span> <span class="n">new_connect</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Starting Failover number </span><span class="si">%s</span><span class="s"> &quot;</span><span class="o">%</span><span class="n">counter</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            
            <span class="k">while</span> <span class="n">times</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">ip_addr</span><span class="p">,</span><span class="s">&#39;root&#39;</span><span class="p">,</span><span class="s">&#39;fibranne&#39;</span><span class="p">)</span>
                <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
                <span class="c">#while sw_info.synchronized() is False:</span>
                <span class="c">#    liabhar.count_down(30)</span>
                <span class="c">#    #print(&quot;\n\n&quot;)</span>
                <span class="c">#    #print(&quot;@&quot;*30)</span>
                <span class="c">#    #print(&quot;\nwaiting for CPs to sync\n&quot;)</span>
                <span class="c">#    #print(&quot;not in sync\n&quot;)</span>
                <span class="c">#    #print(&quot;@&quot;*30)</span>
                <span class="c">#    #print(&quot;@&quot;*30)</span>
                <span class="c">#    liabhar.count_down(60)</span>
                                
                <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;echo Y | hareboot&quot;</span><span class="p">)</span>
                <span class="c">####  add error checking here</span>
                <span class="c">####   get the same data as before the while loop and compare</span>
                <span class="c">#print(&quot;\n\ninside the while loop the go or not is equal to %s  &quot; % go_or_not)</span>
                <span class="n">times</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="c">#print(&quot;\n\nwait here  %s\n\n&quot; % times)</span>
                <span class="n">liabhar</span><span class="o">.</span><span class="n">count_down</span><span class="p">(</span><span class="n">wait</span><span class="p">)</span>
        
        <span class="k">except</span><span class="p">:</span>
        <span class="c">#except SocketError as e:</span>
            <span class="c">#if e.errno != errno.ECONNRESET:</span>
                <span class="c">#print(&quot;\n\n\nCONNECTION ERROR TRYING TO RECONNECT\n\n\n&quot;)</span>
                <span class="c">#raise </span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;========================&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;Telnet was disconnected &quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;Attempting to reconnect shortly </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;========================&quot;</span><span class="p">)</span>
            <span class="c">#pass</span>
            <span class="c">#liabhar.count_down(10)</span>
        <span class="k">if</span> <span class="n">times</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_connect</span> <span class="o">=</span> <span class="bp">False</span>   
     
     
        <span class="n">anturlar</span><span class="o">.</span><span class="n">connect_tel_noparse</span><span class="p">(</span><span class="n">adjacent_ipaddr</span><span class="p">,</span><span class="s">&#39;root&#39;</span><span class="p">,</span><span class="s">&#39;fibranne&#39;</span><span class="p">)</span>
        <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">SwitchInfo</span><span class="p">()</span>
        <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;switchshow&quot;</span><span class="p">)</span>
        <span class="n">sw_info</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;coreshow&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;panic&quot;</span> <span class="ow">in</span> <span class="n">sw_info</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="n">anturlar</span><span class="o">.</span><span class="n">close_tel</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="mapscommand_list"><a class="viewcode-back" href="../index.html#fvtc_0.mapscommand_list">[docs]</a><span class="k">def</span> <span class="nf">mapscommand_list</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns a list fo the maps commands</span>
<span class="sd">        send true to recieve the list of options for each command</span>
<span class="sd">        pass the options of 0 , usage or all</span>
<span class="sd">        0 - or blank will use the core commands only</span>
<span class="sd">        usage - will use commands that will return the help list</span>
<span class="sd">        all   - will use commands that will function correctly</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;mapsConfig&quot;</span><span class="p">,</span> <span class="s">&quot;mapsPolicy&quot;</span><span class="p">,</span> <span class="s">&quot;mapsHelp&quot;</span><span class="p">,</span> <span class="s">&quot;mapsRule&quot;</span><span class="p">,</span> \
         <span class="s">&quot;mapsconfig&quot;</span><span class="p">,</span> <span class="s">&quot;mapspolicy&quot;</span><span class="p">,</span> <span class="s">&quot;mapshelp&quot;</span><span class="p">,</span> <span class="s">&quot;mapsrule&quot;</span><span class="p">,</span> \
         <span class="s">&quot;mapsdb&quot;</span><span class="p">,</span> <span class="s">&quot;mapssam&quot;</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">options</span> <span class="o">==</span> <span class="s">&quot;usage&quot;</span><span class="p">:</span>
        <span class="c">#### these commands will return a usage message since they are</span>
        <span class="c">####  not in the correct format</span>
        <span class="c">#### maybe add the next line to be the correct response</span>
        <span class="c">####</span>
        <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;mapsConfig -- &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --config pause -type NO_port -members 0&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --config continue -type YES_port -members 0&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --emailcfg smckie@brocade.com&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --emailcfg &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --actions &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --testmail -subject -message &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --import  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --deimport &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --enablemaps &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --No_purge&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig -&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --enableFPImon&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --disableFPImon&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --help&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --create  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --enable  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --addrule test_policy -rulename &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --delrule test_policy -rulename &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --delete   &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --create  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --config  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --delete  &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --help &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam -- &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show cpu&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show memory&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show flash&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --help&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb -- &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show everything&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show abunchof28284204&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --clear  &quot;</span><span class="p">,</span> \
        <span class="p">]</span>
    
    <span class="k">if</span> <span class="n">options</span> <span class="o">==</span> <span class="s">&quot;all&quot;</span><span class="p">:</span>
        <span class="c">#### these commands should complete without error</span>
        <span class="c">####</span>
        
        <span class="n">sbj</span> <span class="o">=</span> <span class="s">&quot;this is a test email from maps&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;this is the body of the email from maps&quot;</span>
        
        <span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;mapsConfig --show&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --config pause -type port -members 0&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --config continue -type port -members 0&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --emailcfg -address smckie@brocade.com&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --actions none&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --testmail -subject $sbj -message $msg&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --import someflowname &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --deimport someflowname&quot;</span><span class="p">,</span> \
             <span class="s">&quot;echo n | mapsconfig --enablemaps -policy dflt_conservative_policy&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --show&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --enableFPImon&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --disableFPImon&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsconfig --help&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --create test_policy&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --show -summary&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --enable test_policy&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --clone test_policy -name test_policy_clone&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --addrule test_policy -rulename &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --delrule test_policy -rulename &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --delete test_policy &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapspolicy --delete test_policy_clone&quot;</span><span class="p">,</span>\
             <span class="s">&quot;mapsRule --create rule_00 &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --config rule_00&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --clone rule_00 -rulename rule_00_clone&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --delete rule_00&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsrule --delete rule_00_clone&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --show &lt;ruleName | -all&gt;&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsRule --help &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show cpu&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show memory&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --show flash&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --clear&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapssam --help&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show all&quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show history &quot;</span><span class="p">,</span> \
             <span class="s">&quot;mapsdb --show details &quot;</span><span class="p">,</span> \
             <span class="s">&quot;echo n | mapsdb --clear summary &quot;</span><span class="p">,</span> \
             <span class="s">&quot;echo n | mapsdb --clear history &quot;</span><span class="p">,</span> \
             <span class="s">&quot;echo n | mapsdb --clear all &quot;</span><span class="p">,</span> \
        <span class="p">]</span>
        
    <span class="k">return</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</div>
<span class="k">def</span> <span class="nf">maps_default_rule</span><span class="p">():</span>
    <span class="c">####</span>
    <span class="c">####  list of all the rules including director only rules</span>
    <span class="c">####  </span>
    <span class="n">l</span> <span class="o">=</span> <span class="s">&quot;   defNON_E_F_PORTSCRC_0                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(CRC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSCRC_2                   |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSCRC_10                  |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(CRC/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSCRC_20                  |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(CRC/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSCRC_21                  |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(CRC/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSCRC_40                  |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(CRC/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_15                  |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(ITW/MIN&gt;15),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_20                  |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(ITW/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_21                  |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(ITW/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_40                  |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(ITW/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_41                  |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(ITW/MIN&gt;41),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSITW_80                  |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(ITW/MIN&gt;80),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_2                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LR/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_4                    |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(LR/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_5                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LR/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_10                   |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(LR/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_11                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LR/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLR_20                   |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(LR/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_2             |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(STATE_CHG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_4             |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(STATE_CHG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_5             |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(STATE_CHG/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_10            |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(STATE_CHG/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_11            |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(STATE_CHG/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSSTATE_CHG_20            |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(STATE_CHG/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SIGNAL_0           |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SIGNAL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SIGNAL_3           |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SIGNAL/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SIGNAL_5           |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SIGNAL/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_0                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(PE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_2                    |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_3                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_7                    |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(PE/MIN&gt;7),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_5                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(PE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSPE_10                   |FENCE,SNMP,EMAIL             |NON_E_F_PORTS(PE/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLF_0                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LF/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLF_3                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLF_5                    |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LF/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SYNC_0             |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SYNC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SYNC_3             |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSLOSS_SYNC_5             |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(LOSS_SYNC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSRX_60                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(RX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSRX_75                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(RX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSRX_90                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(RX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSTX_60                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(TX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSTX_75                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(TX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSTX_90                   |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(TX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSUTIL_60                 |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(UTIL/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSUTIL_75                 |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(UTIL/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defNON_E_F_PORTSUTIL_90                 |RASLOG,SNMP,EMAIL            |NON_E_F_PORTS(UTIL/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_0                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(CRC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_2                  |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_10                 |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(CRC/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_20                 |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(CRC/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_21                 |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(CRC/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSCRC_40                 |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(CRC/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_15                 |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(ITW/MIN&gt;15),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_20                 |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(ITW/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_21                 |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(ITW/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_40                 |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(ITW/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_41                 |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(ITW/MIN&gt;41),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSITW_80                 |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(ITW/MIN&gt;80),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_2                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LR/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_4                   |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(LR/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_5                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LR/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_10                  |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(LR/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_11                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LR/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLR_20                  |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(LR/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_2            |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(STATE_CHG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_4            |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(STATE_CHG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_5            |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(STATE_CHG/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_10           |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(STATE_CHG/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_11           |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(STATE_CHG/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSSTATE_CHG_20           |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(STATE_CHG/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SIGNAL_0          |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SIGNAL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SIGNAL_3          |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SIGNAL/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SIGNAL_5          |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SIGNAL/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_0                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(PE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_2                   |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_3                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_7                   |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(PE/MIN&gt;7),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_5                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(PE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSPE_10                  |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(PE/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLF_0                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LF/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLF_3                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLF_5                   |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LF/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SYNC_0            |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SYNC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SYNC_3            |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSLOSS_SYNC_5            |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(LOSS_SYNC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSRX_60                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(RX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSRX_75                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(RX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSRX_90                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(RX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSTX_60                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(TX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSTX_75                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(TX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSTX_90                  |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(TX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSUTIL_60                |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(UTIL/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSUTIL_75                |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(UTIL/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSUTIL_90                |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(UTIL/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_0               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(CRC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_2               |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_10              |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(CRC/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_20              |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(CRC/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_21              |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(CRC/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSCRC_40              |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(CRC/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_15              |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(ITW/MIN&gt;15),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_20              |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(ITW/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_21              |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(ITW/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_40              |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(ITW/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_41              |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(ITW/MIN&gt;41),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSITW_80              |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(ITW/MIN&gt;80),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_2                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LR/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_4                |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(LR/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_5                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LR/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_10               |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(LR/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_11               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LR/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLR_20               |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(LR/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_2         |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_4         |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_5         |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_10        |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_11        |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSSTATE_CHG_20        |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(STATE_CHG/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SIGNAL_0       |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SIGNAL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SIGNAL_3       |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SIGNAL/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SIGNAL_5       |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SIGNAL/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_0                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(PE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_2                |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_3                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_7                |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(PE/MIN&gt;7),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_5                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(PE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSPE_10               |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(PE/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLF_0                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LF/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLF_3                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLF_5                |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LF/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SYNC_0         |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SYNC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SYNC_3         |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSLOSS_SYNC_5         |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(LOSS_SYNC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSRX_60               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(RX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSRX_75               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(RX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSRX_90               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(RX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSTX_60               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(TX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSTX_75               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(TX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSTX_90               |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(TX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSUTIL_60             |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(UTIL/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSUTIL_75             |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(UTIL/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSUTIL_90             |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(UTIL/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_2               |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(C3TXTO/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_4               |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(C3TXTO/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_3               |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(C3TXTO/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_10              |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(C3TXTO/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_11              |RASLOG,SNMP,EMAIL            |ALL_HOST_PORTS(C3TXTO/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_HOST_PORTSC3TXTO_20              |FENCE,DECOM,SNMP,EMAIL       |ALL_HOST_PORTS(C3TXTO/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_2            |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_4            |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_3            |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_10           |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_11           |RASLOG,SNMP,EMAIL            |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_F_PORTSC3TXTO_20           |FENCE,DECOM,SNMP,EMAIL       |ALL_OTHER_F_PORTS(C3TXTO/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_0                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(CRC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_2                     |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_10                    |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(CRC/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_20                    |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(CRC/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_21                    |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(CRC/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSCRC_40                    |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(CRC/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_15                    |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(ITW/MIN&gt;15),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_20                    |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(ITW/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_21                    |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(ITW/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_40                    |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(ITW/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_41                    |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(ITW/MIN&gt;41),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSITW_80                    |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(ITW/MIN&gt;80),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_2                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LR/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_4                      |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(LR/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_5                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LR/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_10                     |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(LR/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_11                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LR/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLR_20                     |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(LR/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_2               |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(STATE_CHG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_4               |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(STATE_CHG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_5               |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(STATE_CHG/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_10              |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(STATE_CHG/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_11              |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(STATE_CHG/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSSTATE_CHG_20              |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(STATE_CHG/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SIGNAL_0             |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SIGNAL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SIGNAL_3             |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SIGNAL/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SIGNAL_5             |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SIGNAL/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_0                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(PE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_2                      |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_3                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_7                      |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(PE/MIN&gt;7),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_5                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(PE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSPE_10                     |FENCE,DECOM,SNMP,EMAIL       |ALL_E_PORTS(PE/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLF_0                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LF/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLF_3                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLF_5                      |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LF/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SYNC_0               |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SYNC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SYNC_3               |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSLOSS_SYNC_5               |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(LOSS_SYNC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSRX_60                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(RX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSRX_75                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(RX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSRX_90                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(RX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSTX_60                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(TX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSTX_75                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(TX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSTX_90                     |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(TX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSUTIL_60                   |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(UTIL/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSUTIL_75                   |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(UTIL/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSUTIL_90                   |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(UTIL/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSC3TXTO_5                  |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(C3TXTO/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSC3TXTO_10                 |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(C3TXTO/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_E_PORTSC3TXTO_20                 |RASLOG,SNMP,EMAIL            |ALL_E_PORTS(C3TXTO/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_0             |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(C3TXTO/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_2             |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(C3TXTO/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_3             |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(C3TXTO/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_5             |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(C3TXTO/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_6             |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(C3TXTO/MIN&gt;6),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSC3TXTO_10            |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(C3TXTO/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_0                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(CRC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_2                |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_5                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(CRC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_10               |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(CRC/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_11               |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(CRC/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSCRC_20               |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(CRC/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_5                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(ITW/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_10               |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(ITW/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_11               |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(ITW/MIN&gt;11),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_20               |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(ITW/MIN&gt;20),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_21               |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(ITW/MIN&gt;21),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSITW_40               |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(ITW/MIN&gt;40),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_0                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LR/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_2                 |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(LR/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_3                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LR/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_5                 |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(LR/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_6                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LR/MIN&gt;6),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLR_10                |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(LR/MIN&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_0          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_2          |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_3          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_7          |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;7),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_8          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;8),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSSTATE_CHG_15         |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(STATE_CHG/MIN&gt;15),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SIGNAL_0        |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SIGNAL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SIGNAL_3        |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SIGNAL/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SIGNAL_5        |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SIGNAL/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_0                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(PE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_2                 |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_3                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_4                 |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(PE/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_5                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(PE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSPE_6                 |FENCE,DECOM,SNMP,EMAIL       |ALL_TARGET_PORTS(PE/MIN&gt;6),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLF_0                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LF/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLF_3                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLF_5                 |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LF/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SYNC_0          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SYNC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SYNC_3          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSLOSS_SYNC_5          |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(LOSS_SYNC/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSRX_60                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(RX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSRX_75                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(RX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSRX_90                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(RX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSTX_60                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(TX/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSTX_75                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(TX/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSTX_90                |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(TX/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSUTIL_60              |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(UTIL/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSUTIL_75              |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(UTIL/HOUR&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_TARGET_PORTSUTIL_90              |RASLOG,SNMP,EMAIL            |ALL_TARGET_PORTS(UTIL/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_STATE_0              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_STATE/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_STATE_3              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_STATE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_STATE_5              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_STATE/MIN&gt;5),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_UTIL_60              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_UTIL/MIN&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_UTIL_75              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_UTIL/MIN&gt;75),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_UTIL_90              |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_UTIL/MIN&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_PKTLOSS_PER_01       |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_PKTLOSS/MIN&gt;0.01),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_PKTLOSS_PER_05       |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_PKTLOSS/MIN&gt;0.05),</span><span class="se">\</span>
<span class="s">            defALL_CIRCUITSCIR_PKTLOSS_PER_1        |RASLOG,SNMP,EMAIL            |ALL_CIRCUITS(CIR_PKTLOSS/MIN&gt;0.1),</span><span class="se">\</span>
<span class="s">            defSWITCHEPORT_DOWN_1                   |RASLOG,SNMP,EMAIL            |SWITCH(EPORT_DOWN/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defSWITCHEPORT_DOWN_2                   |RASLOG,SNMP,EMAIL            |SWITCH(EPORT_DOWN/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHEPORT_DOWN_4                   |RASLOG,SNMP,EMAIL            |SWITCH(EPORT_DOWN/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_CFG_1                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_CFG/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_CFG_2                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_CFG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_CFG_4                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_CFG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_SEG_1                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_SEG/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_SEG_2                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_SEG/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHFAB_SEG_4                      |RASLOG,SNMP,EMAIL            |SWITCH(FAB_SEG/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHFLOGI_4                        |RASLOG,SNMP,EMAIL            |SWITCH(FLOGI/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHFLOGI_6                        |RASLOG,SNMP,EMAIL            |SWITCH(FLOGI/MIN&gt;6),</span><span class="se">\</span>
<span class="s">            defSWITCHFLOGI_8                        |RASLOG,SNMP,EMAIL            |SWITCH(FLOGI/MIN&gt;8),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CHG_2                     |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CHG/DAY&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CHG_5                     |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CHG/DAY&gt;5),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CHG_10                    |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CHG/DAY&gt;10),</span><span class="se">\</span>
<span class="s">            defSWITCHDID_CHG_1                      |RASLOG,SNMP,EMAIL            |SWITCH(DID_CHG/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defSWITCHL2_DEVCNT_PER_60               |RASLOG,SNMP,EMAIL            |SWITCH(L2_DEVCNT_PER/NONE&gt;60),</span><span class="se">\</span>
<span class="s">            defSWITCHL2_DEVCNT_PER_75               |RASLOG,SNMP,EMAIL            |SWITCH(L2_DEVCNT_PER/NONE&gt;75),</span><span class="se">\</span>
<span class="s">            defSWITCHL2_DEVCNT_PER_90               |RASLOG,SNMP,EMAIL            |SWITCH(L2_DEVCNT_PER/NONE&gt;90),</span><span class="se">\</span>
<span class="s">            defSWITCHLSAN_DEVCNT_PER_60             |RASLOG,SNMP,EMAIL            |SWITCH(LSAN_DEVCNT_PER/NONE&gt;60),</span><span class="se">\</span>
<span class="s">            defSWITCHLSAN_DEVCNT_PER_75             |RASLOG,SNMP,EMAIL            |SWITCH(LSAN_DEVCNT_PER/NONE&gt;75),</span><span class="se">\</span>
<span class="s">            defSWITCHLSAN_DEVCNT_PER_90             |RASLOG,SNMP,EMAIL            |SWITCH(LSAN_DEVCNT_PER/NONE&gt;90),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CFGSZ_PER_70              |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CFGSZ_PER/NONE&gt;70),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CFGSZ_PER_80              |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CFGSZ_PER/NONE&gt;80),</span><span class="se">\</span>
<span class="s">            defSWITCHZONE_CFGSZ_PER_90              |RASLOG,SNMP,EMAIL            |SWITCH(ZONE_CFGSZ_PER/NONE&gt;90),</span><span class="se">\</span>
<span class="s">            defSWITCHBB_FCR_CNT_12                  |RASLOG,SNMP,EMAIL            |SWITCH(BB_FCR_CNT/NONE&gt;12),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TELNET_0                   |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TELNET/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TELNET_2                   |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TELNET/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TELNET_4                   |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TELNET/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_HTTP_0                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_HTTP/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_HTTP_2                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_HTTP/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_HTTP_4                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_HTTP/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_SCC_0                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_SCC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_SCC_2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_SCC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_SCC_4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_SCC/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_DCC_0                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_DCC/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_DCC_2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_DCC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_DCC_4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_DCC/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_LV_0                       |RASLOG,SNMP,EMAIL            |SWITCH(SEC_LV/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_LV_2                       |RASLOG,SNMP,EMAIL            |SWITCH(SEC_LV/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_LV_4                       |RASLOG,SNMP,EMAIL            |SWITCH(SEC_LV/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CERT_0                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CERT/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CERT_2                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CERT/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CERT_4                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CERT/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_AUTH_FAIL_0                |RASLOG,SNMP,EMAIL            |SWITCH(SEC_AUTH_FAIL/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_AUTH_FAIL_2                |RASLOG,SNMP,EMAIL            |SWITCH(SEC_AUTH_FAIL/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_AUTH_FAIL_4                |RASLOG,SNMP,EMAIL            |SWITCH(SEC_AUTH_FAIL/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_FCS_0                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_FCS/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_FCS_2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_FCS/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_FCS_4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_FCS/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_IDB_0                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_IDB/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_IDB_2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_IDB/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_IDB_4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_IDB/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CMD_0                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CMD/MIN&gt;0),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CMD_2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CMD/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_CMD_4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_CMD/MIN&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_H1                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/HOUR&gt;1),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_H2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/HOUR&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_H4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/HOUR&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_D2                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/DAY&gt;2),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_D4                      |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/DAY&gt;4),</span><span class="se">\</span>
<span class="s">            defSWITCHSEC_TS_D10                     |RASLOG,SNMP,EMAIL            |SWITCH(SEC_TS/DAY&gt;10),</span><span class="se">\</span>
<span class="s">            defALL_TSTEMP_OUT_OF_RANGE              |RASLOG,SNMP,EMAIL            |ALL_TS(TEMP/NONE==OUT_OF_RANGE),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPCURRENT_50              |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(CURRENT/NONE&gt;=50),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPVOLTAGE_3630            |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(VOLTAGE/NONE&gt;=3630),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPRXP_5000                |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(RXP/NONE&gt;=5000),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPTXP_5000                |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(TXP/NONE&gt;=5000),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPSFP_TEMP_85             |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(SFP_TEMP/NONE&gt;=85),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPVOLTAGE_2960            |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(VOLTAGE/NONE&lt;=2960),</span><span class="se">\</span>
<span class="s">            defALL_OTHER_SFPSFP_TEMP_n13            |RASLOG,SNMP,EMAIL            |ALL_OTHER_SFP(SFP_TEMP/NONE&lt;=-13),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPCURRENT_10             |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(CURRENT/NONE&gt;=10),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPVOLTAGE_3600           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(VOLTAGE/NONE&gt;=3600),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPRXP_1999               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(RXP/NONE&gt;=1999),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPTXP_1999               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(TXP/NONE&gt;=1999),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPSFP_TEMP_90            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(SFP_TEMP/NONE&gt;=90),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPVOLTAGE_3000           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(VOLTAGE/NONE&lt;=3000),</span><span class="se">\</span>
<span class="s">            defALL_10GSWL_SFPSFP_TEMP_n5            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GSWL_SFP(SFP_TEMP/NONE&lt;=-5),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPCURRENT_95             |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(CURRENT/NONE&gt;=95),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPVOLTAGE_3600           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(VOLTAGE/NONE&gt;=3600),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPRXP_2230               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(RXP/NONE&gt;=2230),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPTXP_2230               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(TXP/NONE&gt;=2230),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPSFP_TEMP_90            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(SFP_TEMP/NONE&gt;=90),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPVOLTAGE_2970           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(VOLTAGE/NONE&lt;=2970),</span><span class="se">\</span>
<span class="s">            defALL_10GLWL_SFPSFP_TEMP_n5            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_10GLWL_SFP(SFP_TEMP/NONE&lt;=-5),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPCURRENT_12             |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(CURRENT/NONE&gt;=12),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPVOLTAGE_3600           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(VOLTAGE/NONE&gt;=3600),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPRXP_1259               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(RXP/NONE&gt;=1259),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPTXP_1259               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(TXP/NONE&gt;=1259),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPSFP_TEMP_85            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(SFP_TEMP/NONE&gt;=85),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPVOLTAGE_3000           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(VOLTAGE/NONE&lt;=3000),</span><span class="se">\</span>
<span class="s">            defALL_16GSWL_SFPSFP_TEMP_n5            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GSWL_SFP(SFP_TEMP/NONE&lt;=-5),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPCURRENT_70             |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(CURRENT/NONE&gt;=70),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPVOLTAGE_3600           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(VOLTAGE/NONE&gt;=3600),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPRXP_1995               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(RXP/NONE&gt;=1995),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPTXP_1995               |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(TXP/NONE&gt;=1995),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPSFP_TEMP_90            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(SFP_TEMP/NONE&gt;=90),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPVOLTAGE_3000           |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(VOLTAGE/NONE&lt;=3000),</span><span class="se">\</span>
<span class="s">            defALL_16GLWL_SFPSFP_TEMP_n5            |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_16GLWL_SFP(SFP_TEMP/NONE&lt;=-5),</span><span class="se">\</span>
<span class="s">            defALL_QSFPCURRENT_10                   |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(CURRENT/NONE&gt;=10),</span><span class="se">\</span>
<span class="s">            defALL_QSFPVOLTAGE_3600                 |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(VOLTAGE/NONE&gt;=3600),</span><span class="se">\</span>
<span class="s">            defALL_QSFPRXP_2180                     |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(RXP/NONE&gt;=2180),</span><span class="se">\</span>
<span class="s">            defALL_QSFPSFP_TEMP_85                  |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(SFP_TEMP/NONE&gt;=85),</span><span class="se">\</span>
<span class="s">            defALL_QSFPVOLTAGE_2940                 |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(VOLTAGE/NONE&lt;=2940),</span><span class="se">\</span>
<span class="s">            defALL_QSFPSFP_TEMP_n5                  |SFP_MARGINAL,RASLOG,SNMP,EMAIL|ALL_QSFP(SFP_TEMP/NONE&lt;=-5),</span><span class="se">\</span>
<span class="s">            defCHASSISFLASH_USAGE_90                |RASLOG,SNMP,EMAIL            |CHASSIS(FLASH_USAGE/NONE&gt;=90),</span><span class="se">\</span>
<span class="s">            defCHASSISMEMORY_USAGE_75               |RASLOG,SNMP,EMAIL            |CHASSIS(MEMORY_USAGE/NONE&gt;=75),</span><span class="se">\</span>
<span class="s">            defCHASSISCPU_80                        |RASLOG,SNMP,EMAIL            |CHASSIS(CPU/NONE&gt;=80),</span><span class="se">\</span>
<span class="s">            defSWITCHMARG_PORTS_5                   |SW_CRITICAL,SNMP,EMAIL       |SWITCH(MARG_PORTS/NONE&gt;=5),</span><span class="se">\</span>
<span class="s">            defSWITCHMARG_PORTS_6                   |SW_MARGINAL,SNMP,EMAIL       |SWITCH(MARG_PORTS/NONE&gt;=6),</span><span class="se">\</span>
<span class="s">            defSWITCHMARG_PORTS_10                  |SW_CRITICAL,SNMP,EMAIL       |SWITCH(MARG_PORTS/NONE&gt;=10),</span><span class="se">\</span>
<span class="s">            defSWITCHMARG_PORTS_11                  |SW_MARGINAL,SNMP,EMAIL       |SWITCH(MARG_PORTS/NONE&gt;=11),</span><span class="se">\</span>
<span class="s">            defSWITCHMARG_PORTS_25                  |SW_CRITICAL,SNMP,EMAIL       |SWITCH(MARG_PORTS/NONE&gt;=25),</span><span class="se">\</span>
<span class="s">            defSWITCHFAULTY_PORTS_5                 |SW_CRITICAL,SNMP,EMAIL       |SWITCH(FAULTY_PORTS/NONE&gt;=5),</span><span class="se">\</span>
<span class="s">            defSWITCHFAULTY_PORTS_6                 |SW_MARGINAL,SNMP,EMAIL       |SWITCH(FAULTY_PORTS/NONE&gt;=6),</span><span class="se">\</span>
<span class="s">            defSWITCHFAULTY_PORTS_10                |SW_CRITICAL,SNMP,EMAIL       |SWITCH(FAULTY_PORTS/NONE&gt;=10),</span><span class="se">\</span>
<span class="s">            defSWITCHFAULTY_PORTS_11                |SW_MARGINAL,SNMP,EMAIL       |SWITCH(FAULTY_PORTS/NONE&gt;=11),</span><span class="se">\</span>
<span class="s">            defSWITCHFAULTY_PORTS_25                |SW_CRITICAL,SNMP,EMAIL       |SWITCH(FAULTY_PORTS/NONE&gt;=25),</span><span class="se">\</span>
<span class="s">            defCHASSISBAD_TEMP_MARG                 |SW_MARGINAL,SNMP,EMAIL       |CHASSIS(BAD_TEMP/NONE&gt;=1),</span><span class="se">\</span>
<span class="s">            defCHASSISBAD_TEMP_CRIT                 |SW_CRITICAL,SNMP,EMAIL       |CHASSIS(BAD_TEMP/NONE&gt;=2),</span><span class="se">\</span>
<span class="s">            defCHASSISBAD_PWR_CRIT                  |SW_CRITICAL,SNMP,EMAIL       |CHASSIS(BAD_PWR/NONE&gt;=3),</span><span class="se">\</span>
<span class="s">            defCHASSISBAD_FAN_MARG                  |SW_MARGINAL,SNMP,EMAIL       |CHASSIS(BAD_FAN/NONE&gt;=1),</span><span class="se">\</span>
<span class="s">            defCHASSISBAD_FAN_CRIT                  |SW_CRITICAL,SNMP,EMAIL       |CHASSIS(BAD_FAN/NONE&gt;=2),</span><span class="se">\</span>
<span class="s">            defCHASSISDOWN_CORE_1                   |SW_MARGINAL,SNMP,EMAIL       |CHASSIS(DOWN_CORE/NONE&gt;=1),</span><span class="se">\</span>
<span class="s">            defCHASSISDOWN_CORE_2                   |SW_CRITICAL,SNMP,EMAIL       |CHASSIS(DOWN_CORE/NONE&gt;=2),</span><span class="se">\</span>
<span class="s">            defCHASSISWWN_DOWN_1                    |SW_CRITICAL,SNMP,EMAIL       |CHASSIS(WWN_DOWN/NONE&gt;=1),</span><span class="se">\</span>
<span class="s">            defCHASSISHA_SYNC_0                     |SW_MARGINAL,SNMP,EMAIL       |CHASSIS(HA_SYNC/NONE==0),</span><span class="se">\</span>
<span class="s">            defCHASSISFAULTY_BLADE_1                |SW_MARGINAL,SNMP,EMAIL       |CHASSIS(FAULTY_BLADE/NONE&gt;=1),</span><span class="se">\</span>
<span class="s">            defALL_PORTSSFP_STATE_FAULTY            |RASLOG,SNMP,EMAIL            |ALL_PORTS(SFP_STATE/NONE==FAULTY),</span><span class="se">\</span>
<span class="s">            defALL_PORTSSFP_STATE_IN                |RASLOG,SNMP,EMAIL            |ALL_PORTS(SFP_STATE/NONE==IN),</span><span class="se">\</span>
<span class="s">            defALL_PORTSSFP_STATE_OFF               |RASLOG,SNMP,EMAIL            |ALL_PORTS(SFP_STATE/NONE==OFF),</span><span class="se">\</span>
<span class="s">            defALL_PORTSSFP_STATE_OUT               |RASLOG,SNMP,EMAIL            |ALL_PORTS(SFP_STATE/NONE==OUT),</span><span class="se">\</span>
<span class="s">            defALL_PSPS_STATE_FAULTY                |RASLOG,SNMP,EMAIL            |ALL_PS(PS_STATE/NONE==FAULTY),</span><span class="se">\</span>
<span class="s">            defALL_PSPS_STATE_IN                    |RASLOG,SNMP,EMAIL            |ALL_PS(PS_STATE/NONE==IN),</span><span class="se">\</span>
<span class="s">            defALL_PSPS_STATE_OFF                   |RASLOG,SNMP,EMAIL            |ALL_PS(PS_STATE/NONE==OFF),</span><span class="se">\</span>
<span class="s">            defALL_PSPS_STATE_OUT                   |RASLOG,SNMP,EMAIL            |ALL_PS(PS_STATE/NONE==OUT),</span><span class="se">\</span>
<span class="s">            defALL_FANFAN_STATE_FAULTY              |RASLOG,SNMP,EMAIL            |ALL_FAN(FAN_STATE/NONE==FAULTY),</span><span class="se">\</span>
<span class="s">            defALL_FANFAN_STATE_IN                  |RASLOG,SNMP,EMAIL            |ALL_FAN(FAN_STATE/NONE==IN),</span><span class="se">\</span>
<span class="s">            defALL_FANFAN_STATE_OFF                 |RASLOG,SNMP,EMAIL            |ALL_FAN(FAN_STATE/NONE==OFF),</span><span class="se">\</span>
<span class="s">            defALL_FANFAN_STATE_OUT                 |RASLOG,SNMP,EMAIL            |ALL_FAN(FAN_STATE/NONE==OUT),</span><span class="se">\</span>
<span class="s">            defALL_WWNWWN_FAULTY                    |RASLOG,SNMP,EMAIL            |ALL_WWN(WWN/NONE==FAULTY),</span><span class="se">\</span>
<span class="s">            defALL_WWNWWN_IN                        |RASLOG,SNMP,EMAIL,SNMP,EMAIL |ALL_WWN(WWN/NONE==IN),</span><span class="se">\</span>
<span class="s">            defALL_WWNWWN_OFF                       |RASLOG,SNMP,EMAIL,SNMP,EMAIL |ALL_WWN(WWN/NONE==OFF),</span><span class="se">\</span>
<span class="s">            defALL_WWNWWN_OUT                       |RASLOG,SNMP,EMAIL            |ALL_WWN(WWN/NONE==OUT),</span><span class="se">\</span>
<span class="s">            defALL_SLOTSBLADE_STATE_FAULTY          |RASLOG,SNMP,EMAIL            |ALL_SLOTS(BLADE_STATE/NONE==FAULTY),</span><span class="se">\</span>
<span class="s">            defALL_SLOTSBLADE_STATE_IN              |RASLOG,SNMP,EMAIL            |ALL_SLOTS(BLADE_STATE/NONE==IN),</span><span class="se">\</span>
<span class="s">            defALL_SLOTSBLADE_STATE_OFF             |RASLOG,SNMP,EMAIL            |ALL_SLOTS(BLADE_STATE/NONE==OFF),</span><span class="se">\</span>
<span class="s">            defALL_SLOTSBLADE_STATE_OUT             |RASLOG,SNMP,EMAIL            |ALL_SLOTS(BLADE_STATE/NONE==OUT),</span><span class="se">\</span>
<span class="s">            defCHASSISETH_MGMT_PORT_STATE_DOWN      |RASLOG,SNMP,EMAIL            |CHASSIS(ETH_MGMT_PORT_STATE/NONE==DOWN),</span><span class="se">\</span>
<span class="s">            defCHASSISETH_MGMT_PORT_STATE_UP        |RASLOG,SNMP,EMAIL            |CHASSIS(ETH_MGMT_PORT_STATE/NONE==UP),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_1                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_1                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_1                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_1                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_1               |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/MIN&gt;1),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_H30                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/HOUR&gt;30),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_H30                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/HOUR&gt;30),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_H30                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/HOUR&gt;30),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_H30                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/HOUR&gt;30),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_H30             |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/HOUR&gt;30),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_D500                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/DAY&gt;500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_D500                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/DAY&gt;500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_D500                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/DAY&gt;500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_D500                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/DAY&gt;500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_D500            |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/DAY&gt;500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_2                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_2                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_2                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_2                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_2               |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/MIN&gt;2),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_H60                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_H60                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_H60                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_H60                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_H60             |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/HOUR&gt;60),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_D1000                 |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/DAY&gt;1000),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_D1000                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/DAY&gt;1000),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_D1000                 |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/DAY&gt;1000),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_D1000                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/DAY&gt;1000),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_D1000           |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/DAY&gt;1000),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_3                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_3                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_3                     |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_3                      |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_3               |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/MIN&gt;3),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_H90                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_H90                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_H90                   |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_H90                    |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_H90             |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/HOUR&gt;90),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSCRC_D1500                 |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(CRC/DAY&gt;1500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSPE_D1500                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(PE/DAY&gt;1500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSITW_D1500                 |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(ITW/DAY&gt;1500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLF_D1500                  |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LF/DAY&gt;1500),</span><span class="se">\</span>
<span class="s">            defALL_D_PORTSLOSS_SYNC_D1500           |RASLOG,SNMP,EMAIL            |ALL_D_PORTS(LOSS_SYNC/DAY&gt;1500),</span><span class="se">\</span>
<span class="s">            defALL_F_PORTS_IO_PERF_IMPACT           |RASLOG,SNMP,EMAIL            |ALL_F_PORTS(DEV_LATENCY_IMPACT/NONE==IO_PERF_IMPACT),</span><span class="se">\</span>
<span class="s">            defALL_F_PORTS_IO_FRAME_LOSS            |RASLOG,SNMP,EMAIL            |ALL_F_PORTS(DEV_LATENCY_IMPACT/NONE==IO_FRAME_LOSS),</span><span class="se">\</span>
<span class="s">        &quot;</span>
    
    <span class="k">return</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> 


        
 
<div class="viewcode-block" id="cleanup_policy"><a class="viewcode-back" href="../index.html#fvtc_0.cleanup_policy">[docs]</a><span class="k">def</span> <span class="nf">cleanup_policy</span><span class="p">(</span> <span class="n">policy_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        cleanup any user added policies, rules</span>
<span class="sd">        remove rules from policies and delete the policy</span>
<span class="sd">    &quot;&quot;&quot;</span>
     
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --enable dflt_moderate_policy&quot;</span><span class="p">)</span>
     
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">policy_list</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">get_policy_rules</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">r</span><span class="p">:</span>
            <span class="c">#rn = s.split(&quot; &quot;)</span>
            <span class="n">rn</span> <span class="o">=</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
            <span class="n">rn</span> <span class="o">=</span> <span class="n">rn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">rn</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>
            
            <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --delrule </span><span class="si">%s</span><span class="s"> -rulename </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">rn</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapsrule --delete </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">rn</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
           
        <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --delete </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">)</span>
        
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  </div>
<div class="viewcode-block" id="get_policy_rules"><a class="viewcode-back" href="../index.html#fvtc_0.get_policy_rules">[docs]</a><span class="k">def</span> <span class="nf">get_policy_rules</span><span class="p">(</span> <span class="n">p</span> <span class="o">=</span> <span class="s">&quot;None&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       get the rules of a policy</span>
<span class="sd">       </span>
<span class="sd">    &quot;&quot;&quot;</span>
 
    <span class="n">capture_cmd</span> <span class="o">=</span> <span class="n">anturlar</span><span class="o">.</span><span class="n">fos_cmd</span><span class="p">(</span><span class="s">&quot;mapspolicy --show </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="n">p</span><span class="p">)</span>
    <span class="c">#ras = re.compile(&#39;([_ ,\//\(-=\.|&lt;&gt;A-Za-z0-9]+)(?=\))&#39;)</span>
    <span class="n">ras</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;([_A-Za-z]+)(?=\s+\w+,)&#39;</span><span class="p">)</span>
    <span class="n">ras</span> <span class="o">=</span> <span class="n">ras</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">capture_cmd</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">ras</span><span class="p">)</span>
           
   </div>
<span class="k">def</span> <span class="nf">end</span><span class="p">():</span>
    <span class="k">pass</span>
        
    
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">SQA_automation 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, S_M.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>